<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>
  <title>FHEM reference</title>
  <link rel="stylesheet" type="text/css" href="../www/pgm2/style.css" />
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <link rel="shortcut icon" href="/fhem/icons/favicon.ico"/>

</head>


<body>

  <div id="logo"></div>
  <div id="menu">
    <h3>fhem.pl Referenz</h3>
    Version: <a href="commandref.html">EN</a>&nbsp;<b>DE</b>
  </div>

  <div id="right">

<h3>Inhalt</h3>
<ul>
  <a href="#intro">Einleitung</a><br>
  <a href="#command">FHEM Befehls-Typen</a><br>
  <a href="#devspec">Ger&auml;te-Spezifikation</a><br>

  <br>
  <b>FHEM-Befehle</b>
  <ul>
      <a href="#attr">attr</a> &nbsp;
      <a href="#backup">backup</a> &nbsp;
      <a href="#CULflash">CULflash</a> &nbsp;
      <a href="#createlog">createlog</a> &nbsp;
      <a href="#define">define</a> &nbsp;
      <a href="#delete">delete</a> &nbsp;
      <a href="#deleteattr">deleteattr</a> &nbsp;
      <a href="#deletereading">deletereading</a> &nbsp;
      <a href="#fheminfo">fheminfo</a> &nbsp;
      <a href="#get">get</a> &nbsp;
      <a href="#getstate">getstate</a> &nbsp;
      <a href="#help">?,help</a> &nbsp;
      <a href="#include">include</a> &nbsp;
      <a href="#inform">inform</a> &nbsp;
      <a href="#JsonList">JsonList</a> &nbsp;
      <a href="#list">list</a> &nbsp;
      <a href="#modify">modify</a> &nbsp;
      <a href="#notice">notice</a> &nbsp;
      <a href="#quit">quit</a> &nbsp;
      <a href="#reload">reload</a> &nbsp;
      <a href="#rename">rename</a> &nbsp;
      <a href="#rereadcfg">rereadcfg</a> &nbsp;
      <a href="#save">save</a> &nbsp;
      <a href="#set">set</a> &nbsp;
      <a href="#setdefaultattr">setdefaultattr</a> &nbsp;
      <a href="#setstate">setstate</a> &nbsp;
      <a href="#shutdown">shutdown</a> &nbsp;
      <a href="#sleep">sleep</a> &nbsp;
      <a href="#trigger">trigger</a> &nbsp;
      <a href="#update">update</a> &nbsp;
      <a href="#usb">usb</a> &nbsp;
      <a href="#xmllist">xmllist</a> &nbsp;

  </ul>

  <br>
  <b>Ger&auml;te</b>
  <ul>
      <a href="#global">global</a><br>
      <a href='#ALL3076'>ALL3076</a> &nbsp;
      <a href='#ALL4000T'>ALL4000T</a> &nbsp;
      <a href='#ALL4027'>ALL4027</a> &nbsp;
      <a href='#BS'>BS</a> &nbsp;
      <a href='#CM11'>CM11</a> &nbsp;
      <a href='#CUL'>CUL</a> &nbsp;
      <a href='#CUL_EM'>CUL_EM</a> &nbsp;
      <a href='#CUL_FHTTK'>CUL_FHTTK</a> &nbsp;
      <a href='#CUL_HM'>CUL_HM</a> &nbsp;
      <a href='#CUL_HOERMANN'>CUL_HOERMANN</a> &nbsp;
      <a href='#CUL_IR'>CUL_IR</a> &nbsp;
      <a href='#CUL_MAX'>CUL_MAX</a> &nbsp;
      <a href='#CUL_RFR'>CUL_RFR</a> &nbsp;
      <a href='#CUL_TX'>CUL_TX</a> &nbsp;
      <a href='#CUL_WS'>CUL_WS</a> &nbsp;
      <a href='#ECMD'>ECMD</a> &nbsp;
      <a href='#ECMDDevice'>ECMDDevice</a> &nbsp;
      <a href='#EIB'>EIB</a> &nbsp;
      <a href='#EM'>EM</a> &nbsp;
      <a href='#EMEM'>EMEM</a> &nbsp;
      <a href='#EMGZ'>EMGZ</a> &nbsp;
      <a href='#EMWZ'>EMWZ</a> &nbsp;
      <a href='#ESA2000'>ESA2000</a> &nbsp;
      <a href='#EnOcean'>EnOcean</a> &nbsp;
      <a href='#FBAHA'>FBAHA</a> &nbsp;
      <a href='#FBDECT'>FBDECT</a> &nbsp;
      <a href='#FHT'>FHT</a> &nbsp;
      <a href='#FHT8V'>FHT8V</a> &nbsp;
      <a href='#FHZ'>FHZ</a> &nbsp;
      <a href='#FRM'>FRM</a> &nbsp;
      <a href='#FRM_AD'>FRM_AD</a> &nbsp;
      <a href='#FRM_I2C'>FRM_I2C</a> &nbsp;
      <a href='#FRM_IN'>FRM_IN</a> &nbsp;
      <a href='#FRM_LCD'>FRM_LCD</a> &nbsp;
      <a href='#FRM_OUT'>FRM_OUT</a> &nbsp;
      <a href='#FRM_PWM'>FRM_PWM</a> &nbsp;
      <a href='#FRM_SERVO'>FRM_SERVO</a> &nbsp;
      <a href='#FS20'>FS20</a> &nbsp;
      <a href='#HMLAN'>HMLAN</a> &nbsp;
      <a href='#HMS'>HMS</a> &nbsp;
      <a href='#HTTPSRV'>HTTPSRV</a> &nbsp;
      <a href='#HUEBridge'>HUEBridge</a> &nbsp;
      <a href='#HUEDevice'>HUEDevice</a> &nbsp;
      <a href='#IPCAM'>IPCAM</a> &nbsp;
      <a href='#IPWE'>IPWE</a> &nbsp;
      <a href='#IT'>IT</a> &nbsp;
      <a href='#Itach_Relay'>Itach_Relay</a> &nbsp;
      <a href='#KM271'>KM271</a> &nbsp;
      <a href='#KS300'>KS300</a> &nbsp;
      <a href='#LGTV'>LGTV</a> &nbsp;
      <a href='#LIRC'>LIRC</a> &nbsp;
      <a href='#LUXTRONIK2'>LUXTRONIK2</a> &nbsp;
      <a href='#M232'>M232</a> &nbsp;
      <a href='#M232Counter'>M232Counter</a> &nbsp;
      <a href='#M232Voltage'>M232Voltage</a> &nbsp;
      <a href='#MAX'>MAX</a> &nbsp;
      <a href='#MAXLAN'>MAXLAN</a> &nbsp;
      <a href='#MSG'>MSG</a> &nbsp;
      <a href='#MSGFile'>MSGFile</a> &nbsp;
      <a href='#MSGMail'>MSGMail</a> &nbsp;
      <a href='#NetIO230B'>NetIO230B</a> &nbsp;
      <a href='#OREGON'>OREGON</a> &nbsp;
      <a href='#OWAD'>OWAD</a> &nbsp;
      <a href='#OWCOUNT'>OWCOUNT</a> &nbsp;
      <a href='#OWDevice'>OWDevice</a> &nbsp;
      <a href='#OWFS'>OWFS</a> &nbsp;
      <a href='#OWID'>OWID</a> &nbsp;
      <a href='#OWLCD'>OWLCD</a> &nbsp;
      <a href='#OWMULTI'>OWMULTI</a> &nbsp;
      <a href='#OWSWITCH'>OWSWITCH</a> &nbsp;
      <a href='#OWServer'>OWServer</a> &nbsp;
      <a href='#OWTEMP'>OWTEMP</a> &nbsp;
      <a href='#OWTHERM'>OWTHERM</a> &nbsp;
      <a href='#OWX'>OWX</a> &nbsp;
      <a href='#POKEYS'>POKEYS</a> &nbsp;
      <a href='#RFXCOM'>RFXCOM</a> &nbsp;
      <a href='#RFXMETER'>RFXMETER</a> &nbsp;
      <a href='#RFXX10REC'>RFXX10REC</a> &nbsp;
      <a href='#RSS'>RSS</a> &nbsp;
      <a href='#SCIVT'>SCIVT</a> &nbsp;
      <a href='#SISPM'>SISPM</a> &nbsp;
      <a href='#SIS_PMS'>SIS_PMS</a> &nbsp;
      <a href='#SML'>SML</a> &nbsp;
      <a href='#STV'>STV</a> &nbsp;
      <a href='#SVG'>SVG</a> &nbsp;
      <a href='#SYSSTAT'>SYSSTAT</a> &nbsp;
      <a href='#TCM'>TCM</a> &nbsp;
      <a href='#TRX'>TRX</a> &nbsp;
      <a href='#TRX_ELSE'>TRX_ELSE</a> &nbsp;
      <a href='#TRX_LIGHT'>TRX_LIGHT</a> &nbsp;
      <a href='#TRX_SECURITY'>TRX_SECURITY</a> &nbsp;
      <a href='#TRX_WEATHER'>TRX_WEATHER</a> &nbsp;
      <a href='#TUL'>TUL</a> &nbsp;
      <a href='#TellStick'>TellStick</a> &nbsp;
      <a href='#USBWX'>USBWX</a> &nbsp;
      <a href='#USF1000'>USF1000</a> &nbsp;
      <a href='#Utils'>Utils</a> &nbsp;
      <a href='#VIERA'>VIERA</a> &nbsp;
      <a href='#VantagePro2'>VantagePro2</a> &nbsp;
      <a href='#WEBCOUNT'>WEBCOUNT</a> &nbsp;
      <a href='#WEBIO'>WEBIO</a> &nbsp;
      <a href='#WEBIO_12DIGITAL'>WEBIO_12DIGITAL</a> &nbsp;
      <a href='#WEBTHERM'>WEBTHERM</a> &nbsp;
      <a href='#WS2000'>WS2000</a> &nbsp;
      <a href='#WS300'>WS300</a> &nbsp;
      <a href='#WS3600'>WS3600</a> &nbsp;
      <a href='#Weather'>Weather</a> &nbsp;
      <a href='#X10'>X10</a> &nbsp;
      <a href='#XmlList'>XmlList</a> &nbsp;
      <a href='#YAMAHA_AVR'>YAMAHA_AVR</a> &nbsp;
      <a href='#ZWDongle'>ZWDongle</a> &nbsp;
      <a href='#ZWave'>ZWave</a> &nbsp;
      <a href='#xxLG7000'>xxLG7000</a> &nbsp;

  </ul>

  <br>
  <b>Hilfs (Erweiterungs-) Module</b>
  <ul>
    <a href="#at">at</a> &nbsp;
    <a href="#autocreate">autocreate</a> &nbsp;
    <a href="#average">average</a> &nbsp;
    <a href="#Calendar">Calendar</a> &nbsp;
    <a href="#DbLog">DbLog</a> &nbsp;
    <a href="#dewpoint">dewpoint</a> &nbsp;
    <a href="#dummy">dummy</a> &nbsp;
    <a href="#FHEM2FHEM">FHEM2FHEM</a> &nbsp;
    <a href="#FHEMWEB">FHEMWEB</a> &nbsp;
    <a href="#FB_CALLMONITOR">FB_CALLMONITOR</a> &nbsp;
    <a href="#FileLog">FileLog</a> &nbsp;
    <a href="#FLOORPLAN">FLOORPLAN</a> &nbsp;
    <a href="#HCS">HCS</a> &nbsp;
    <a href="#Heating_Control">Heating_Control</a> &nbsp;
    <a href="#holiday">holiday</a> &nbsp;
    <a href="#LightScene">LightScene</a> &nbsp;
    <a href="#notify">notify</a> &nbsp;
    <a href="#PID">PID</a> &nbsp;
    <a href="#PRESENCE">PRESENCE</a> &nbsp;
    <a href="#PachLog">PachLog</a> &nbsp;
    <a href="#SUNRISE_EL">SUNRISE_EL</a> &nbsp;
    <a href="#sequence">sequence</a> &nbsp;
    <a href="#structure">structure</a> &nbsp;
    <a href="#telnet">telnet</a> &nbsp;
    <a href="#Twilight">Twilight</a> &nbsp;
    <a href="#THRESHOLD">THRESHOLD</a> &nbsp;
    <a href="#watchdog">watchdog</a> &nbsp;
    <a href="#weblink">weblink</a> &nbsp;
    <a href="#WOL">WOL</a> &nbsp;
  </ul>

  <br>
  <a href="#perl">PERL Besonderheiten</a><br>
  <a href="#gnuplot-syntax">gnuplot file Syntax</a><br>
</ul>


<a name="intro"></a>
<h3>Einleitung</h3>
<ul>
<p>FHEM wird haupts&auml;chlich zur Heimautomatisierung benutzt, 
ist aber ebenso f&uuml;r andere Aufgaben einsetzbar wo Benachrichtigungen, 
Zeitschaltungen und Datensammlungen eine wichtige Rolle spielen.</p>
<p>FHEM unterst&uuml;tzt verschiedene Hardwareger&auml;te die eine 
Verbindung mittels unterschiedlicher Protokolle (z.B. FHZ1000 mit Interfaces vom 
Typ FS20 und HMS, CM11 um mit X10 zu arbeiten) sowie logischer Ger&auml;te wie FS20 
oder FHT die einen Nachrichtenaustausch mit verschiedensten Ger&auml;ten die diese 
Protokolle verwenden erm&ouml;glichen.</p>
<p>
FHEM ist modular. Abh&auml;ngig von den unterschiedlichen Ger&auml;ten werden in den 
Modulen verschiedene Funktionen (z.B. define, get, set) realisiert. FHEM enth&auml;lt 
weitere Funktionen wie Trigger (<a href="#notify">notify</a>), 
Zeitabh&auml;ngige Funktionen (<a href="#at">at</a>) 
die die Funktionalit&auml;t erweitern.</p>
<p>
FHEM wird entweder &uuml;ber einfache ASCII-Kommandozeilen gesteuert die in Dateien 
wie z.B. der Konfigurationsdatei fhem.cfg gespeichert sind oder &uuml;ber eine TCP/IP 
Verbindung, entweder direkt in einer "telnet"-Sitzung, oder per fhem.pl im 
Client-Modus oder &uuml;ber eines der Webfrontends.<br> &nbsp;</p>
<p class="MsoNormal">Wenn Sie den FHEM-Server starten, m&uuml;ssen Sie eine 
Konfigurationsdatei ausw&auml;hlen:</p>
<ul>
  <code>perl fhem.pl fhem.cfg</code>
</ul>
&nbsp;<p>Nachstehend eine Minimal-Konfiguration Datei: </p><pre>
    attr global <a href="#logfile">logfile</a> log/fhem.log
    attr global <a href="#modpath">modpath</a> .
    attr global <a href="#statefile">statefile</a> log/fhem.save
    attr global <a href="#verbose">verbose</a> 3
    define telnetPort <a href="#telnet">telnet</a> 7072 global
    define WEB <a href="#FHEMWEB">FHEMWEB</a> 8083 global</pre>

Die letzten zwei Zeilen definieren einen telnet und einen WEB Zugang, beide k&ouml;nnen aber
bei Bedarf auch abgeschaltet werden.<br><br>

Die WEB Schnittstelle kann &uuml;ber
<ul>
  http://&lt;fhemhost&gt;:8083
</ul>
erreicht werden.
<br><br>

Die Kommunikation mit FHEM kann entweder in einer "session" (&uuml;ber telnet) oder 
&uuml;ber einzelne Klient-Kommandos (&uuml;ber fhem.pl) erfolgen. Beispiel:
<ul>
    <code>telnet &lt;fhemhost&gt; 7072<br>
    &lt;NL&gt; </code>(Die Bet&auml;tigung der &quot;Enter&quot;-Taste schaltet in den&nbsp; "prompt" 
    Modus)<code><br>
    &lt;command&gt;...<br>
    quit</code><br>
</ul>
    oder
<ul>
    <code>fhem.pl &lt;fhemhost&gt;:7072 "&lt;command&gt;..."</code>
</ul>
</ul>
<br>


<a name="command"></a>
<h3>FHEM Befehlstypen</h3>
<ul>
Es gibt drei Arten von Befehlen: "fhem" Befehle (werden in diesem Dokument 
beschrieben), SHELL-Befehle (diese m&uuml;ssen von doppelten Anf&uuml;hrungszeichen "" 
eingeschlossen werden) und PERL-Ausdr&uuml;cken (von geschwungenen Klammern {} 
eingeschlossen). SHELL-Befehle oder PERL-Ausdr&uuml;cke werden f&uuml;r komplexe <a href="#at">at</a> 
oder <a href="#notify">notify</a> Ausdr&uuml;cke ben&ouml;tigt, k&ouml;nnen aber auch als "normale" Befehle angewendet werden.&nbsp;
  <p class="MsoNormal">Die folgenden drei Befehle bewirken z.B. dasselbe 
  Ergebnis, wenn sie am "telnet"-Prompt eingegeben werden:
  <ul>
  set lamp off<br>
  "fhem.pl 7072 "set lamp off""<br>
  {fhem("set lamp off")}<br>
  </ul>
&nbsp;<p>SHELL-Kommandos werden im Hintergrund ausgef&uuml;hrt, 
PERL-Ausdr&uuml;cke und FHEM-Kommandos werden im Haupt-"thread" ausgef&uuml;hrt. Um 
PERL-Ausdr&uuml;cke leichter eingeben zu k&ouml;nnen, sind einige Spezialfunktionen und 
Variablen verf&uuml;gbar. Lesen Sie sich bitte die Abschnitte
<a href="file:///C:/Inetpub/wwwroot/www.fhem.de/commandref_frame_DE.html#perl" style="color: #278727; text-decoration: underline; text-underline: single">
Perl special</a> zum besseren Verst&auml;ndnis durch.</p>
<p>Um FHEM-Befehle in einen SHELL-Script zu triggern (dies ist 
eine "andere" M&ouml;glichkeit), benutzen Sie bitte die oben beschriebene Client-Form 
der fhem.pl.</p>
<p>&nbsp;</p>
<p">Mehrere FHEM-Kommandos hintereinander werden mittels 
Semikolon (;) getrennt. Weil Semikola auch in PERL-Code oder SHELL-Programmen 
benutzt werden, m&uuml;ssen sie mittels doppelten Semikola gesch&uuml;tzt werden. Lesen 
Sie sich bitte die <b>Bermerkungen </b>des <a href="#notify">notify</a>-Abschnittes zu Kommandoparametern und Regeln durch.</p>
<p>Z.B. schaltet die erste der folgenden Befehlszeilen die 
Lampe 1 nur/erst zur Uhrzeit 07:00 Uhr aus, die Lampe 2 aber sofort und die 
zweite Befehlszeile schaltet Lampe 1 und 2 um 7:00 Uhr gleichzeitig aus. </p>
<p>&nbsp;</p>
  <ul>
  define lampoff at 07:00 set Lamp1 off; set Lamp2 off<br>
  define lampoff at 07:00 set Lamp1 off;; set Lamp2 off<br>
  </ul>
&nbsp;<p">Befehle k&ouml;nnen entweder direkt eingegeben oder aus 
seiner Datei (z.B. am Start von FHEM aus der Konfugurationsdatei eingelesen 
werden. Die Befehle werden entweder direkt ausgef&uuml;hrt oder sp&auml;ter wenn sie als 
Argumente eines <a href="#at">at</a> oder <a href="#notify">notify</a>-Befehles verwendet werden. </p>
<p>&nbsp;</p>
<p>Eine mit einem \ abgeschlossene Zeile wird mit der 
nachfolgenden Zeile verbunden. Somit k&ouml;nnen lange Befehlszeilen (die z.B. aus 
mehreren PERL-Befehlen bestehen) auf mehrere Zeilen aufgteilt werden. Einige 
Web-Frontends (z.B. webpgm2) erleichtern die Eingabe von sich &uuml;ber mehrere 
Zeilen erstreckende Befehle, indem man keine \ am Zeilenende eingeben muss.</p>
<p>&nbsp;</p>
</ul>


<a name="devspec"></a>
<h3>Ger&auml;te-Spezifikation (devspec)</h3>
<ul>
  <p>Die Befehle
    <a href="#attr">attr</a>,
    <a href="#deleteattr">deleteattr</a>,<a href="#delete">delete</a>,
    <a href="#get">get</a>,
    <a href="#list">list</a>,
    <a href="#set">set</a>,
    <a href="#setstate">setstate</a>,<a href="file:///C:/Inetpub/wwwroot/www.fhem.de/commandref_frame_DE.html#setstate"><span style="text-decoration: underline">
  </span></a>k&ouml;nnen eine komplexere 
  Ger&auml;tespezifikation als Argumente enthalten, die auch eine Anzahl von Ger&auml;ten 
  betreffen kann. Eine Ger&auml;tespezifikation (Kurzfassung) kann z.B. so aussehen:</p>
  <ul>
  <li>ein einzelner Ger&auml;tename. Dies ist der 
  meist vorkommende Fall.</li>
  <li>
  eine Liste von Ger&auml;tenamen, durch Kommata (,) getrennt</li>
  <li>
  ein Bereich, durch ein Minuszeichen getrennt (-)</li>
  <li>ein regul&auml;rer Ausdruck der eines der 
  folgenden Zeichen enth&auml;lt: ^*[]$</li>
  <li>
  ein Ger&auml;teattribut, gefolgt von einem Gleichheitszeichen (=) und einem 
  regul&auml;ren Ausdruck f&uuml;r dieses Attribut.
  Als Attribut k&ouml;nnen Sie entweder Attribute die mittels "attr"-Befehl oder 
  eines der "internen" Attribute wie DEF, STATE oder TYPE angeben.</li>
  </ul>
  &nbsp;<p>
  Beispiele: </p>
  <ul>
    <code>set lamp1 on</code><br>
    <code>set lamp1,lamp2,lamp3 on</code><br>
    <code>set lamp[1-3] on</code><br>
    <code>set lamp.* on</code><br>
    <code>set lamp1-lamp3 on</code><br>
    <code>set lamp1-lamp3,lamp3 on</code><br>
    <code>set room=kitchen off</code><br>
    <code>list disabled=</code><br>
    <code>list TYPE=FS20</code><br>
  </ul>
  Bemerkungen: <br>
&nbsp;<ul>
  <li>zuerst wird die durch Kommata getrennte 
  Spezifikation abgearbeitet, dann folgen die Bereichsspezifikationen und die 
  regul&auml;ren Ausdr&uuml;cke</li>
  <li>
  wenn f&uuml;r ein Ger&auml;t eine Spezifikation exakt zutrifft, werden keine weiteren 
  Vergleiche vorgenommen.</li>
  <li>
  die Befehlszeile kann die selbe Ger&auml;tebezeichnung mehrfach enthalten z.B.: &quot;set 
  lamp1-lamp3, lamp3 on&quot;.
  Lamp3 wird hier zwei Mal eingeschalten.</span></li>
  <li>um Strukturen mit komplexeren Anforderungen zu realisieren lesen Sie bitte 
  den Abschnitt zu <a href="#structure">
      structure</a>.
  </li></ul>
</ul>

<a name="help"></a>
<h3>?, help</h3>
<ul>
  <code>?</code><br>
  <code>help</code><br>
  <br>
  Sie erhalten eine Liste aller Befehle mit einer Kurzbeschreibung jedes 
  Befehls.
</ul>

<a name="attr"></a>
<h3>attr</h3>
<ul>
  <code>attr &lt;devspec&gt; &lt;attrname&gt; [&lt;value&gt;] </code><br>

  <br>
   Dieser Befehl setzt ein Attribut f&uuml;r ein Ger&auml;t welches mit <a href="#define">define</a> definiert wurde. Sie k&ouml;nnen auch 
  Ihre eigenen Attribute definieren, um sie in anderen Applikationen anzuwenden. 
  Geben Sie "&lt;attr &lt;name&gt; ?" ein, um eine Liste verf&uuml;gbarer Attribute 
  anzuzeigen. Bitte lesen Sie das Kapitel <a href="#devspec">Device specification</a>&nbsp; 
  um Detail-Informationen zu &lt;devspec&gt; zu erhalten.
  <p>Attribute, die f&uuml;r 
  alle Ger&auml;te anwendbar sind: </p>
  <ul>
    <a name="comment"></a>
    <li>comment<br>
        F&uuml;gt einen beliebigen Kommentar hinzu.
    <a name="alias"></a>
    </li><li>alias<br>
     Wird in FHEMWEB benutzt, um ein en anderen Namen f&uuml;r ein Ger&auml;t anzuzeigen 
    z.B. wenn Sonderzeichen/Leerzeichen nicht in der Ger&auml;tedefinition verwendet 
    werden k&ouml;nnen.
    <a name="room"></a>
    </li><li>room<br>
     Filtert/gruppiert Ger&auml;te. Verwendbar unter web-pgm2 und web-pgm3.
     Ein Ger&auml;te kann zu mehr als einem Raum zugeordnet werden. In diesem Fall 
    m&uuml;ssen die Raumzuordnungen&nbsp; durch Kommata getrennt angegeben werden.<br>
        Ger&auml;te, die dem Raum mit der Bezeichnung "hidden" zugeordnet werden, 
    erscheinen nicht auf der Webseite, es sei denn Sie ber&uuml;cksichtigen <a href="#hiddenroom"> FHEMWEB attribute to selectively disable
        rooms for certain FHEMWEB instances.
        </a></li><a href="#hiddenroom">

    </a><a name="group"></a>
    <li>group<br>
        Ger&auml;tegruppen, anwendbar unter web-pgm2 (Modul <a href="#FHEMWEB">FHEMWEB</a>) zeigt Ger&auml;te die in die gleiche Gruppe geh&ouml;ren auch in einer 
    gemeinsamen Box an. Das benutzt man, um sp&auml;ter Ger&auml;te zu gruppieren. Ein 
    Ger&auml;t kann zu mehr als einer Gruppe geh&ouml;ren. In diesem Fall m&uuml;ssen die 
    entsprechenden Gruppen, durch Kommata getrennt, eingetragen werden<p>
    Wenn dieses Attribut nicht gesetzt ist, wird der in der Ger&auml;tegruppe 
    gesetzte Ger&auml;tetyp verwendet.&nbsp;</li><a name="showtime"></a></p>
    <li>showtime<br>
    Wird im Webfrontend pgm2 verwendet, um die Zeit der letzten Aktivit&auml;t 
    anstelle des Status in der Gesamtansicht anzuzeigen. N&uuml;tzlich z.B. f&uuml;r FS20 
    PIRI Ger&auml;te.</span>
    </li>

    <br><br>

    <a name="readingFnAttributes"></a>
    <b>readingFnAttribute</b><br>
    Die folgenden Attribute werden bei Modulen verwendet, die standardisierte
    "readings" Aktualisierung der fhem.pl benutzen. Informieren Sie sich in der
    Liste der Modulattribute wenn Sie wissen m&ouml;chten ob dies
    unterst&uuml;tzt wird.<br><br>

    <a name="stateFormat"></a>
    <li>stateFormat<br>
    &Auml;ndert den Ger&auml;testatus, dies ist z.Bsp. in der Ausgabe des list
    Kommandos zu sehen, oder in der Raum&uumlbersicht von FHEMWEB.  Falls
    nicht gesetzt, dann wird das state Reading &uuml;bernommen. Sonst werden
    alle W&ouml;rter im Wert des Attributes durch das entsprechende Reading des
    Ger&auml;tes ersetzt (soweit vorhanden). Falls der Wert in {}
    eingeschlossen ist, dann wird es als Perl Ausdruck ausgewertet. Die
    Auswertung passiert bei jeder &Auml;nderung eines Readings.
    </li>

    <a name="event-on-update-reading"></a>
    <li>event-on-update-reading<br>
    Wenn nicht gesetzt, erzeugt jede Ver&auml;nderung eines "readings" ein
    Ereignis, welches z.B. von <a href="#notify">notify</a> oder<a
    href="FileLog"> FileLog</a> ber&uuml;cksichtigt wird. Wenn gesetzt erzeugen
    nur Aktualisierungen der eingetragenen "readings" ein Ereignis.
    </li>

    <a name="event-on-change-reading"></a>
    <li>event-on-change-reading<br>
    Dieses Attribut enth&auml;lt eine durch Kommata getrennte Liste von
    "readings".  Wenn gesetzt, erzeugen nur Ver&auml;nderungen der gelisteten
    "readings" ein Ereignis. Wenn die aktualiserten Werte der gelisteten
    "readings" identisch sind, wird kein Ereignis generiert.</li><p> Die
    unterschiedlichen Bedeutungen von event-on-update-reading und
    event-on-change-reading sind folgende</span>:
    <ul>
    <li>Wenn beide Attribute nicht gesetzt sind erzeugt jede Aktualisierung
        eines jeden "readings" eines Ger&auml;tes ein Ereignis.</li>
    <li>Wenn eines der Attribute gesetzt ist, erzeugen nur Updates oder
        &auml;nderungen von "readings" die nicht in einem der Attribute gesetzt
        sind ein Ereignis.</li>
    <li>Wenn ein "reading" in event-on-update-reading aufgef&uuml;hrt ist,
        erzeugt eine Aktualisierung ein Ereignis unabh&auml;ngig ob das
        "reading" auch in event-on-change-reading aufgelistet ist.</li>
    </ul><br></li>

    <a name="event-min-interval"></a>
    <li>event-min-interval<br>
    Dieses Attribut enth&auml;lt eine durch Kommata getrennte Liste von
    "readings:minInterval" Paare. readings kann ein regexp sein. Ein Event wird
    nur dann generiert, falls seit dem letzten Auftreten des gleichen Events
    mindestens minInterval Sekunden vergangen sind.
    </li><br>

    <a name="userReadings"></a>
    <li>userReadings<br>
    A comma-separated list of definitions of user-defined readings. Each definition has the form
    <code>&lt;reading&gt; [&lt;modifier&gt;] { &lt;perl code&gt; }</code>. After a single or bulk
    readings update, the user-defined readings are set by evaluating the <a href="#perl">
    perl code</a>
    <code>{ &lt;perl code&gt; }</code> for all definitions and setting the value of
    the respective user-defined reading <code>&lt;reading&gt;</code> to the result.<br><br>
    Examples:<br>
    <code>attr myEnergyMeter userReadings energy { ReadingsVal("myEnergyMeter","counters.A",0)/1250.0;; }</code><br>
    <code>attr myMultiMeter userReadings energy1 { ReadingsVal("myMultiMeter","counters.A",0)/1250.0;; },
          energy2 { ReadingsVal("myMultiMeter","counters.B",0)/1250.0;; }</code>
    <br><br>
    <code>&lt;modifier&gt;</code> can take one of these values:
    <ul>
      <li>none: the same as it would not have been given at all.</li>
      <li>difference: the reading is set to the difference between the current and the previously evaluated value.</li>
      <li>differential: the reading is set to the difference between the current and the previously evaluated value divided
        by the time in seconds between the current and the previous evaluation. Granularity of time is one second. No
        value is calculated if the time past is below one second. Useful to calculate rates.</li>
    </ul><br>
    Example:<br>
    <code>attr myPowerMeter userReadings power differential { ReadingsVal("myPowerMeter","counters.A",0)/1250.0;; }</code><br><br>
    Note: user readings with modifiers difference and differential store the calculated values internally. The user reading is
    set earliest at the second evaluation. Beware of stale values when changing definitions!
    </li><br>

  </ul>
  <br>

  Ger&auml;tespezifische Attribute sind in der Beschreibung zum jeweiligen
  Ger&auml;t aufgef&uuml;hrt.
  <br>

  Beispiele:
  <ul>
    <code>attr global verbose 3</code><br>
    <code>attr lamp room kitchen</code><br>
    <code>attr lamp group lights</code><br>
    <code>attr lamp loglevel 6</code><br>
    <code>attr weatherstation event-on-update-reading wind,temperature,humidity</code><br>
    <code>attr weatherstation event-on-change-reading israining</code><br>
    <code>attr weatherstation event-on-change-reading israining,state</code><br>
    <code>attr heating stateFormat Temp:measured-temp, Valve:actuator</code><br>
  </ul>
  <br>

  Bemerkungen:<br>
  <ul>
    <li>Lesen Sie unter <a href="#deleteattr">deleteattr</a> nach um Attribute 
    zu l&ouml;schen.</li>
  </ul>
</ul>

<a name="setdefaultattr"></a>
<h3>setdefaultattr</h3>
<ul>
  <code>setdefaultattr [&lt;attrname&gt; [&lt;value&gt;]] </code><br>

  <br>
  F&uuml;gt Sie ein Standardattribut hinzu. Jedem nach dieser Zuweisung definierte 
  Ger&auml;t wird dieses Attribut zugewiesen. Wenn kein "attrname" angegeben wird, 
  dann wird die Liste der Standardattribute gel&ouml;scht.
  <br><br>

  Beispiel, um das Attribut "room kitchen" und "loglevel 4" allen Lampen 
  zuzuweisen:
  <ul>
    <code>setdefaultattr room kitchen</code><br>
    <code>setdefaultattr loglevel 4</code><br>
    <code>define lamp1 FS20 1234 11</code><br>
    <code>define lamp2 FS20 1234 12</code><br>
    <code>define lamp3 FS20 1234 13</code><br>
    <code>setdefaultattr</code><br>
  </ul>
  <br>

  Anmerkungen:<br>
  <ul>
    <li>es gibt keine M&ouml;glichkeit, ein einzelnes Standardattribut aus der Liste 
    tu l&ouml;schen.</li>
  </ul>
</ul>


<a name="define"></a>
<h3>define</h3>
<ul>
  <code>define &lt;name&gt; &lt;type&gt; &lt;type-specific&gt;</code><br>
  <br>
  Definiert ein Ger&auml;t. Sie m&uuml;ssen Ger&auml;te einrichten um sie zu beeinflussen (z.B. 
  das Kommando set on/off auszuf&uuml;hren). Gleichfalls ist das Logfile besser 
  lesbar wenn es z.B.
  "lamp off" anstatt "Device 5673, Button 00, Code 00 (off)" als Text enth&auml;lt. <br>
  Geben Sie an der Befehlszeile "define &lt;name&gt; ?" ein, um eine Liste der 
  verf&uuml;gbaren &quot;types&quot; zu erhalten.<br>
  Nach der Definition, wird das globale Ereignis "DEFINED" genriert. Genauere 
  Beschreibung erhalten Sie im Abschnitt &quot;notify&quot;.<br>
  <br><br>

  Jedes Ger&auml;t besitzt unterschiedliche hinzuf&uuml;gbare Argumente per Definition, 
  lesen Sie sich bitte die zu dem jeweiligen Ger&auml;t geh&ouml;renden Abschnitte durch.<br>
  <br>
</ul>


<a name="delete"></a>
<h3>delete</h3>
<ul>
  <code>delete &lt;devspec&gt;</code> <br>
  <br>
  L&ouml;scht etwas was mit dem <a href="#define">define</a> Befehl erstellt worden
  ist.
  Lesen Sie sich bitte den Abschnitt <a href="#devspec">Device specification</a>&nbsp; f&uuml;r
  Details von
  &lt;devspec&gt; durch.<br>
  Nach dem l&ouml;schen, wird das globale Ereignis "DELETED" erzeugt. Lesen Sie bitte
  den Abschnitt zu &quot;notify&quot; f&uuml;r genauere Informationen durch.<br>
  Beispiel:
  <ul>
    <code>delete lamp</code><br>
  </ul>
  <br>
</ul>

<a name="deleteattr"></a>
<h3>deleteattr</h3>
<ul>
  <code>deleteattr &lt;devspec&gt; [&lt;attrname&gt;]</code> <br>
  <br>
  L&ouml;scht entweder ein einzelnes Attribut (siehe Abschnitt <a href="#attr">attr</a> )
  oder alle Attribute eines Ger&auml;tes (falls kein&nbsp; &lt;attrname&gt; angegeben 
  wird).
  Lesen Sie bitte den&nbsp; <a href="#devspec">Device specification</a> 
  Abschnitt f&uuml;r
  &lt;devspec&gt; durch.<br>
  <br>

  Beispiele:
  <ul>
    <code>deleteattr lamp follow-on-for-timer</code><br>
    <code>deleteattr lamp</code><br>
  </ul>
  <br>
</ul>

<a name="deletereading"></a>
<h3>deletereading</h3>
<ul>
  <code>deletereading &lt;devspec&gt; &lt;readingname&gt;</code> <br>
  <br>
  Delete the reading &lt;readingname&gt;
  for a device. &lt;readingname&gt; is a perl regular expression that must match the whole name of the reading.
  Use with greatest care! FHEM might crash if you delete vital readings of a device.
  See the <a href="#devspec">Device specification</a> section for details on
  &lt;devspec&gt;.<br>
  <br>

  Examples:
  <ul>
    <code>deletereading mySensor temp1</code><br>
    <code>deletereading mySensor temp\d+</code><br>
  </ul>
  <br>
</ul>

<a name="get"></a>
<h3>get</h3>
<ul>
  <code>get &lt;devspec&gt; &lt;type-specific&gt;</code>
  <br><br>
  Fragt einen Wert direkt&nbsp; (aktuell) vom Ger&auml;t ab und wartet auf eine 
  Antwort. Eine allgemeine Liste m&ouml;glicher Paramter erhalten Sie mit<ul>
    <code>get &lt;device&gt; ?</code>
  </ul>
  Lesen Sie den Abschnitt <a href="#devspec">Device specification</a> f&uuml;r 
  Details zu
  &lt;devspec&gt; durch.<br>
  <br>
  Jedes Ger&auml;t hat unterschiedliche &quot;get&quot;-Parameter. Lesen Sie Details bitte im 
  zugeh&ouml;rigen Abschnitt nach.<br>
  <br>

</ul>


<a name="getstate"></a>
<h3>getstate</h3>
<ul>
  <code>getstate &lt;devspec&gt;</code>
  <br><br>
  Gibt einen kurzen, durch Leerzeichen getrennte Statusliste f&uuml;r &lt;devspec&gt; 
  aus . Dies ist n&uuml;tzlich, um das Ger&auml;t in z.B. Cacti zu beobachten.<br>
  Beispiel:
  <ul><code>
  getstate lamp<br>
  state:1<br>
  <br>
  getstate fl<br>
  ack:0 actuator:2 day-temp:21.5 desired-temp:22.5 [...] measured-temp:22.9 [...]
  </code></ul>
  Bemerkung: Um diesen Befehl nutzen zu k&ouml;nnen, kopieren Sie bitte&nbsp; die 
  Datei 99_getstate.pm aus dem Verzeichnis contrib/getstate/ in Ihr FHEM 
  Verzeichnis.
  <br>

</ul>


<a name="include"></a>
<h3>include</h3>
<ul>
  <code>include &lt;filename&gt;</code> <br>
  <br>
  Liest (z.B. als Befehlszeile in der fhem.cfg) die in &lt;filename&gt; angegebene 
  Datei in FHEM ein und interpretiert jede Dateizeile als FHEM Befehl. Mit 
  dieser Hilfe werden Konfigurationsdateien modularer und erlaubt es sie z.B. 
  nach R&auml;umen geordnet auftzuteilen.
  <br>
</ul>

<a name="inform"></a>
<h3>inform</h3>
<ul>
  <code>inform {on|off|timer|raw} [regexp]</code> <br>
  <br>
  Wenn auf &quot;on&quot; gesetzt und der Status eines Ger&auml;tes &auml;ndert sich, dann wird eine 
  Nachricht an den Client gesendet. Dieser Befehl kann von anderen 
  Programmen/Modulen dazu benutzt werden, eine Hinweisnachricht zu erhalten. <br>
  Die Option &quot;timer&quot; f&uuml;gt&nbsp; der Nachricht einen Zeitstempel hinzu. Hinweis: 
  Dieser Befehl erleichtert Ihnen die bessere Kontrolle in
  <a href="#notify">notify</a> oder <a href="#FileLog">FileLog</a> , wann welche 
  Ereignisse erzeugt wurden.

  <br>
</ul>

<a name="list"></a>
<h3>list</h3>
<ul>
  <code>list [devspec] [value]</code>
  <br><br>
  Auflistung aller &quot;definitions&quot;, &quot;notify&quot; und &quot;at&quot;-Definitionen. Dies ist eines 
  der wenigen Befehle, die im Normalfall eine Zeichenkette ausgeben. Bitte lesen 
  Sie den Abschnitt <a href="#devspec">Device specification</a> f&uuml;r Details zu
  &lt;devspec&gt;.
  <br>
  Wenn value angegeben ist, der von ( DEF, TYPE, usw) oder
  reading (actuator, measured-temp) f&uuml;r alle Ger&auml;te die in devspec angegeben 
  sind.
  <br><br>
  Beispiel:
  <pre><code>  fhem&gt; list

  Type list <name> for detailed info.

  Internal:
    global               (Internal)

  FHZ:
    FHZ                  (fhtbuf: 23)

  FS20:
    Btn4                 (on-old-for-timer)
    Roll1                (on)
    Stehlampe            (off)

  FHT:
    fl                   (measured-temp: 21.1 (Celsius))

  KS300:
    out1                 (T: 2.9  H: 74  W: 2.2  R: 8.2  IR: no)

  at:
    at_rollup            (Next: 07:00:00)

  notify:
    ntfy_btn4            (active)

  FileLog:
    avglog               (active)

  </name></code></pre>
  Wenn Sie f&uuml;r <code>name</code> einen Ger&auml;tenamen eingeben, dann erhalten Sie 
  einen genauen Status f&uuml;r das in<code> name</code> angegebene Ger&auml;t angezeigt, 
  z.B.:
  <pre><code>  fhem&gt; list fl

  Internals:
    CODE       5102
    DEF        5102
    NAME       fl
    NR         15
    STATE      measured-temp: 21.1 (Celsius)
    TYPE       FHT
    IODev      FHZ
  Attributes:
    room       Heizung
  Readings:
    2006-11-02 09:45:56   actuator        19%
    [...]
  </code></pre>
</ul>


<a name="modify"></a>
<h3>modify</h3>
<ul>
  <code>modify &lt;name&gt; &lt;type-dependent-options&gt;</code>
  <br><br>

  Dieser Befehl wird benutzt, um Definitionen zu ver&auml;ndern. Er ist n&uuml;tzlich, um <a href="#at">at</a> oder <a href="#notify">notify</a> 
  Definitionen zu ver&auml;ndern.  Wenn Sie einen Wert einer an Definition ver&auml;ndern, 
  dann wird nur der f&uuml;r die Zeit zust&auml;ndige Teil ge&auml;ndert. Im Falle der 
  Ver&auml;nderung einer Definition vom Typ &quot;notify&quot; wird nur der&nbsp; regex Teil 
  ge&auml;ndert. Alle anderen Werte (Stati, Attribute,&nbsp; etc) bleiben erhalten.
  <br><br>
  Beispiel:
  <ul>
    <code>define lampon at 19:00 set lamp on</code><br>
    <code>modify lampon *19:00</code><br>
    <code>modify lampon 19:00 set lamp on-for-timer 16</code><br>
  </ul>
</ul>

<a name="quit"></a>
<h3>quit</h3>
<ul>
  <code>quit</code>
  <br><br>
  Dieser Befehl wird in einer TCP/IP Session benutzt um die Client-Sitzung zu 
  beenden.<br>
  Wird dieser Befehl in einem Skript benutzt, wird das abarbeiten des Skriptes 
  beendet.
  <br><br>
  Beispiel:
  <ul>
    <code>quit</code>
  </ul>
</ul>


<a name="reload"></a>
<h3>reload</h3>
<ul>
  <code>reload &lt;module&gt;</code>
  <br><br>
  Reload the given module from the module directory. It is a convenient way to
  test modules whithout restarting the program.
  <br><br>
  Example:
  <ul>
    <code>reload 99_PRIV</code>
  </ul>
</ul>

<a name="rename"></a>
<h3>rename</h3>
<ul>
  <code>rename &lt;oldname&gt; &lt;newname&gt;</code>
  <br><br>
  Benennt ein Ger&auml;t von &lt;oldname&gt; in &lt;newname&gt;, einschliesslich der 
  Attribute, um. Das globale Ereignis &quot;RENAMED&quot; wird erstellt, Lesen Sie bitte 
  den Abschnitt &quot;notify&quot; durch um Details zu erfahren.
  <br><br>
  Beispiel:
  <ul>
    <code>rename FHT_1234 fht.kitchen</code>
  </ul>
</ul>


<a name="rereadcfg"></a>
<h3>rereadcfg</h3>
<ul>
  <code>rereadcfg [fhem-config-file]</code>
  <br><br>
  Liest entweder die aktuelle Konfigurationsdatei oder die angegebene Datei ein.<br>
  Der Ablauf ist dabei wie folgt:&nbsp; Zuerst wird das <a href="#statefile">statefile</a> 
  gesichert. Dann werden alle Ger&auml;te gel&ouml;scht. Dann wird die aktuelle 
  Konfigurationsdatei (oder die angegebene Datei) eingelesen zuletzt wird das statefile 
  neu eingelesen.<br>
  Wenn dieser Ablauf abgeschlossen ist, wird das globale REREADCFG Ereignis 
  ausgel&ouml;st.  Alle existierenden Verbindungenwerden bis zum &quot;rereadcfg&quot; Ereignis 
  getrennt.

  <br><br>
  Beipiel:
  <ul>
    <code>rereadcfg</code>
  </ul>
</ul>

<a name="save"></a>
<h3>save</h3>
<ul>
  <code>save [&lt;configfile&gt;]</code>
  <br><br>
  Sichert zuerst das <a href="#statefile">statefile</a> und dann das
  <a href="#configfile">configfile</a>. Wenn ein Parameter angegeben wird dieser 
  anstelle der allgemeinen Konfigurationsdatei benutzt.<br><br>
  Hinweise:
  <ul>
    <li>Der Befehl speichert nur &quot;definitions&quot; und &quot;attributes&quot; aber keine (set/get)
    Befehle die vorher Teil der Konfigurationsdatei waren. Wenn Sie solche 
    Befehle nach der Initialisierung (z.B.  <a href="http://fhem.de/FHZset">FHTcode</a>) 
    ben&ouml;tigen,dann m&uuml;ssen Sie sie mit <a href="#notify">notify</a> triggern wenn 
    das
    INITIALIZED Ereignis eintritt.</li>

    <li>Der Befehl &quot;save&quot; versucht Kommentarzeilen&nbsp; (Zeilen die mit # 
    beginnen) und &quot;include&quot;-Zeilen zu erhalten, aber arbeitet nicht korrekt wenn 
    FHEM f&uuml;r diese Dateien keine Schreibrechte besitzt.</li>

  </ul>
</ul>


<a name="set"></a>
<h3>set</h3>
<ul>
  <code>set &lt;devspec&gt; &lt;type-specific&gt;</code>
  <br><br>
  Der Befehl setzt Ger&auml;teparameter/sendet Signale an ein Ger&auml;t. Sie
  erhalten eine Liste verf&uuml;gbarer Parameter wenn Sie folgendes eingeben:
  <ul>
    <code>set &lt;name&gt; ?</code>
  </ul>
  Lesen Sie bitte den Abschnitt <a href="#devspec">Device specification</a>
  f&uuml;r Details zu &lt;devspec&gt;. Der &quot;set&quot;-Befehl gibt nur bei
  Fehler einen Wert zur&uuml;ck.
  <br><br>
  Jedes Ger&auml;t hat verschiedene Parameter die mit &quot;set&quot; gesetzt
  werden k&ouml;nnen.  Lesen Sie bitte den entsprechenden Abschnitt f&uuml;r
  das Ger&auml;t f&uuml;r Details durch.
  <br>

  <br>
  <a name="setExtensions"></a>
  Manche Module unterst&uuml;tzen die sog. <b>set extensions</b>, und in der
  entsprechenden Dokumentation ist ein Link auf diesem Text zu finden. Falls im
  Modul selber einer der unten aufgef&uuml;hrten Befehle implementiert ist, dann
  wird die Modul-Implementation verwendet.
  <ul>
    <li>on-for-timer &lt;sekunden&gt<br>
        Das Ger&auml;t wird per "on" eingeschaltet, und ein interner Zeitgeber
        wird erstellt, um nach &lt;sekunden&gt; ein "off" Kommando
        auszuf&uuml;hren.  Um diesen Zeitgeber zu entfernen sollte man das
        Kommando mit dem Argument 0 erneut aufrufen. Achtung: dieser Zeitgeber
        wird bei einem restart nicht gespeichert.</li>
    <li>off-for-timer &lt;sekunden&gt<br>
        siehe on-for-timer.</li>
    <li>on-till &lt;timedet&gt<br>
        Das Ger&auml;t wird per "on" eingeschaltet, und ein at Instanz wird
        definiert, um es um &lt;timedet&gt; (Format: HH:MM[:SS]) per off
        auszuschalten.  Diese at Instanz ist sichtbar unter dem Namen
        ger&auml;teName+"_till".  Um das Ausschalten zu deaktivieren
        l&ouml;scht man diese at Definition.  </li>
    <li>off-till &lt;timedet&gt<br>
        siehe on-till.</li>
    <li>blink &lt;anzahl&gt; &lt;blink-periode&gt;<br>
        Das Ger&auml;t wird mit "on" f&uuml;r die &lt;blink-periode&gt;
        eingeschaltet, und das wird nach &lt;blink-periode&gt; wiederholt. Um
        das Blinken vorzeitig zu stoppen spezifiziert man "0 0" als
        Argument.</li>
    <li>intervals &lt;from1&gt;-&lt;till1&gt; &lt;from2&gt;-&lt;till2&gt;...
        </br>
        Das Ger&auml;t wird f&uuml;r die spezifizierten Intervalle
        eingeschaltet. Die einzelnen Intervalle sind Leerzeichen getrennt, und
        ein Intervall besteht aus zwei Zeitspezifikationen, die mit einem "-"
        getrennt sind.
        </li>
    </ul>
    Beispiele:
    <ul>
      <code>
        set switch on-for-timer 12.5<br>
        set switch on-till {sunset()}<br>
        set switch blink 3 1<br>
        set switch intervals 08:00-12:00 13:00-18:00<br>
      </code>
    </ul>
  </ul>
</ul>


<a name="setstate"></a>
<h3>setstate</h3>
<ul>
  <code>setstate &lt;devspec&gt; &lt;value&gt;</code>
  <br><br>
  Der Befehl setzt den "STATUS&quot; f&uuml;r <code>&lt;name&gt;</code> , wie im Befehl
  <a href="#list">list</a> beschrieben, auf den Wert <code>&lt;value&gt;</code> 
  ohne an das Ger&auml;t ein Signal zu senden. Dieser Befehl wird auch im <a href="#statefile">statefile</a> 
  benutzt.
  Lesen Sie bitte den Abschnitt <a href="#devspec">Device specification</a>&nbsp; f&uuml;r 
  Details zu
  &lt;devspec&gt;.
  <br><br>
  Examples:
  <ul>
    setstate lamp on
  </ul>
  Note:
  <ul>
    <li>The statefile uses another version of this command, don't be surprised.
    </li>
  </ul>
</ul>


<a name="shutdown"></a>
<h3>shutdown</h3>
<ul>
  <code>shutdown [restart]</code>
  <br><br>
  Der Befehl f&auml;hrt den Server herunter (nach dem sichern der <a href="#statefile">state information
  </a>). Er triggert das global:SHUTDOWN Ereignis.  Wenn der optionale 
  Parameterv restart angegeben, versucht FHEM von selbst wieder zu starten.
  <br><br>
  Beispiel:
  <ul>
    <code>shutdown</code><br>
    <code>shutdown restart</code>
  </ul>
</ul>


<a name="trigger"></a>
<h3>trigger</h3>
<ul>
  <code>trigger &lt;devspec&gt; &lt;state&gt;</code>
  <br><br>
  Triggert eine <a href="#notify">notify</a> Definition.
  Lesen Sie bitte den Abschnitt <a href="#devspec">Device specification</a>&nbsp; f&uuml;r 
  Details zu
  &lt;devspec&gt;.

  <br><br>
  Beispiel:
  <ul>
    <code>trigger btn3 on</code>
  </ul>
</ul>

<a name="sleep"></a>
<h3>sleep</h3>
<ul>
  <code>sleep &lt;sec&gt;</code>
  <br><br>
  Stoppt die Befehlsabarbeitung f&uuml;r die angegebene Anzahl von Millisekunden.
  <br><br>
  Beispiel:
  <ul>
    <code>sleep 0.5</code><br>
    <code>define n3 notify btn3.* set lamp toggle;;sleep 0.5;;set lamp toggle</code>
  </ul>
  <br>
  Bemerkung: sleep gefolgt von einem weiteren Befehl und angegeben in at/notify/etc 
  blockiert die Abarbeitung von FHHM nicht.<br>
</ul>


<a name="global"></a>
<h3>global</h3>
<ul>
  Das &quot;global&quot; Ger&auml;t wird benutzt, um allgemeing&uuml;ltige Attribute zu setzen. Es 
  wird automatisch erstellt und kann nicht gel&ouml;scht oder umbenannt werden. Es 
  hat keine &quot;set&quot; oder &quot;get&quot; Parameter.<br>
  <br>

  <b>Define</b><ul>N/A</ul><br>

  <b>Set </b><ul>N/A</ul><br>

  <b>Get</b><ul>N/A</ul><br>

  <b>Attributes</b>
  <ul>
    <li><a href="#archivedir">archivedir</a></li>
    <li><a href="#archivecmd">archivecmd</a></li>
    <li><a href="#nrarchive">nrarchive</a></li><br>

    <a name="autoload_undefined_devices"></a>
    <li>autoload_undefined_devices<br>
        wenn dieses Attribut gesetzt ist, werden die zu einer neu empfangenen 
    Nachricht zugeh&ouml;rigen Module automatisch geladen.&nbsp; Dies erfolgt vom <a href="#autocreate">
        autocreate</a> Ger&auml;t, um so automatisch ein FHEM-Ger&auml;t bei erreichen 
    einer entsprechenden Nachricht zu erstellen.
    </li><br>


    <a name="backup_before_update"></a>
    <li>backup_before_update<br>
        Wenn dieses Attribut auf &quot;0&quot; gesetzt wurde, erstellt FHEM keine 
    Sicherheitskopie Ihrer Installation bei Verwendung des Befehls <a href="#backup">backup</a>. 
    Die Standardeinstellung ist die Erstellung einer Sicherheitskopie vor einem 
    Update.<br>
        Hinweis: Setzen Sie dieses Attribut nur wenn Sie sich sicher sind!<br>
        Das Attribut wird vom <a href="#update">update</a> Befehl benutzt.<br>
        Beispiel:<br>
        <ul>
          attr global backup_before_update 0
        </ul>
    </li><br>

    <a name="backupcmd"></a>
    <li>backupcmd<br>
        Sie k&ouml;nnen das Update durch Ihre eigenen Befehle/Skripts durchf&uuml;hren 
    indem Sie dieses Attribut setzen.
        Wenn dieses Attribut gesetzt ist, dann startet es als ein SHELL-Befehl 
    und erstellt eine durch Leerzeichen getrennte Liste von 
    Dateien/Verzeichnissen als <strong>ein</strong> Argument zum Befehl, z.B.:
        <br>
        <ul>
          <code>"/etc/fhem.cfg /var/log/fhem/fhem.save /usr/share/fhem/contrib
                /usr/share/fhem/FHEM /usr/share/fhem/foo /usr/share/fhem/foobar
                /usr/share/fhem/www"</code>
        </ul>
        Bemerkung: Ihr Befehl/Skript muss die Zeichenkette "backup done" 
    zur&uuml;ckgeben oder eine entsprechende Zeichenkette um Fehlermeldungen 
    auszugeben, damit die Zusammenarbeit mit updatefhem funktioniert!<br>
        Dieses Attribut wird vom <a href="#backup">backup</a> Befehl benutzt.<br>
        Beispiel:<br>
        <ul>
          attr global backupcmd /usr/local/bin/myBackupScript.sh
        </ul>
    </li><br>

    <a name="backupdir"></a>
    <li>backupdir<br>
        Ein Ordner um die komprimierten Sicherheitsdateien zu speichern.
        Dieses Attribut wird vom <a href="#backup">backup</a> Befehl benutzt.<br>
        Beispiel:<br>
        <ul>
          attr global backupdir /Volumes/BigHD
        </ul>
    </li><br>

    <a name="backupsymlink"></a>
    <li>backupsymlink<br>
        Wenn dieses Attribut auf etwas anderes als "no", dann unterst&uuml;tzt der 
    Archviierungsbefehl &quot;tar&quot; symbolische Links in Ihrem Backup. Andererseits, 
    wenn dieses Attribut auf
        "no" gesetzt ist werden symbolische Links vom Befehl &quot;tar&quot; ignoriert. 
    Dieses Attribut wird vom <a href="#backup">backup</a> Befehl benutzt.<br>
        Beispiel:<br>
        <ul>
          attr global backupsymlinks yes
        </ul>
    </li><br>

    <a name="configfile"></a>
    <li>configfile<br>
        Enth&auml;lt den Namen der FHEM Konfigurationsdatei. Wenn <a href="#save">save</a> 
    ohne Argumente aufgerufen wird dann wird die Ausgabedatei unter diesem 
    Dateinamen gespeichert.
    </li><br>

    <a name="exclude_from_update"></a>
    <li>exclude_from_update<br>
        Enth&auml;lt eine Liste durch Leerzeichen getrennter Dateien welche nicht im 
    Update ber&uuml;cksichtigt werden. Dieses Attribut wird vom <a href="#update">update</a> 
    Befehl benutzt.<br>
        Beispiel:<br>
        <ul>
          attr global exclude_from_update 21_OWTEMP.pm temp4hum4.gplot FS20.on.png FS20.off.png
        </ul>
    </li><br>

    <a name="holiday2we"></a>
    <li>holiday2we<br>
        Wenn dieses Attribut gesetzt wurde, dann wird die <a href="#perl">$we</a> 
    Variable
        als &quot;true&quot; betrachtet, wenn der Wert der <a href="#holiday">holiday</a> 
    Variable zu diesem Attribut nicht &quot;none&quot; ist.<br>
        Beispiel:<br>
        <ul>
          attr global holiday2we hessen
        </ul>
    </li><br>

    <a name="lastinclude"></a>
    <li>lastinclude<br>
        Wurde dieses Attribut gesetzt, dann wird der letzte Befehl der generierten 
    Konfigurationsdatei (siehe <a href="#save">save</a> Befehl) ber&uuml;cksichtigt &lt;lastinclude-value&gt;<br>
        Dieses Attribut ist DEPRECATED, bitte benutzen Sie <a href="#notify">notify</a>, 
    mit dem&nbsp; INITIALIZED Ereignis um Befehle nach der Intialisierung 
    auszuf&uuml;hren.
    </li><br>

    <a name="logfile"></a>
    <li>logfile<br>
        Gibt das Logfile an, in welches gespeichert werden soll.&nbsp; Sie 
    k&ouml;nnen "-" f&uuml;r die Ausgabe in das stdout-Ger&auml;t. In diesem Fall the server won't background itself.<br>
        Der Name der Logdatei kann auch &quot;wildcards&quot; enthalten, um eine 
    einfachere Abfolge f&uuml;r die Dateien zu erreichen. Lesen Sie bitte den 
    Abschnitt <a href="#FileLog">FileLog</a>. F&uuml;gen Sie die Attribute
        <code>archivecmd / archivedir / nrarchive</code> zum
        <code>global</code> Ger&auml;t hinzu wie Sie es auch bei einem FileLog device 
    tun k&ouml;nnten.<br>
        Sie k&ouml;nnen den Namen der Logdatei mit&nbsp;
        <code>{ $currlogfile }festlegen</code>.
    </li><br>

    <a name="modpath"></a>
    <li>modpath<br>
        Mit modpath geben Sie den Pfad zu dem Verzeichnis der <code>FHEM</code> 
    Module an. Der Pfad enh&auml;lt <b>nicht</b> das Verzeichnis FHEM. Durch das 
    setzen der Attribute, wird das Verzeichnis nach Dateinamen in der Form NN_&lt;NAME&gt;.pm, 
    und sie werden f&uuml;r die Definition von Ger&auml;ten unter dem Namen
        &lt;NAME&gt; verf&uuml;gbar gemacht. Wenn das erste Ger&auml;t&nbsp; des Typs &lt;NAME&gt; definiert 
    wird, werden die entsprechenden Module geladen und in dem Modul die 
    entsprechende Function mit dem Namen
        &lt;NAME&gt;_Initialize wird aufgerufen. Eine Ausnahme bilden Module die 
    mit der Nummer 99 im Dateinamen beginnen. Diese sind&nbsp; enhalten 
    PERL-Hilfsfunktionen. Die Module werden zur Startzeit geladen (i.e.
        modpath attribute definition time).
    </li><br>

    <a name="motd"></a>
    <li>motd<br>
        Nachricht des Tages. Wird im Begr&uuml;ÃŸungsbildschirm von FHEM angezeigt,
        oder direkt beim Start einer &quot;telnet&quot; Sitzung, bevor der fhem&gt; Prompt 
    erscheint. Der SecurityCheck setzt motd wenn es bisher nicht gesetzt ist. Um 
    das zu verhindern, k&ouml;nnen sie den Wert von motd auf &quot;none&quot; setzen
    </li><br>

    <a name="mseclog"></a>
    <li>mseclog<br>
        Wenn dieses Attribut gesetzt ist, enthalten Datums/Zeiteintr&auml;ge (timestamp) 
    in der Logdatei einen Millisekunden-Eintrag.
    </li><br>

    <a name="nofork"></a>
    <li>nofork<br>
        Wenn dieses Attribut gesetzt ist und der "-" Eintrag bei &quot;logfile&quot;, dann 
    wird nicht im Hintergrund abgearbeitet. Dieses Attribut ist bei einigen FHEM 
    Installationen auf FRITZ!-Boxen notwendig.
    </li><br>

    <a name="pidfilename="></a>
    <li>pidfilename<br>
        Schreibt die PERL Prozess-ID in die angegebene Datei. Der Server l&auml;uft 
    als Daemon und einige Distributionen wollen anhand der PID testen, ob der 
    FHEM Prozess l&auml;uft. Die Datei wird bei Ausf&uuml;hrung des &quot;shutdown&quot;-Kommandos 
    gel&ouml;scht.
    </li><br>

    <li><a href="#fheminfo">sendStatistics</a>

    <a name="statefile"></a>
    <li>statefile<br>
        Dieses Attribut legt den Namen der Datei fest, in die 
    Statusinformationen und verschiedene <a href="#at">at</a> Information 
    gespeichert werden&nbsp; bevor der Server heruntergefahren wird. Fall diese 
    Datei nicht angegeben wird, so werden keinerlei Informationen gesichert.
    </li><br>

    <a name="title"></a>
    <li>title<br>
        Das Attribut &quot;title&quot; wird unter dem Frontend fhemweb.pl (webpgm2) zur 
    Festlegung des Seitentitels benutzt..
    </li><br>

    <li><a href="#fheminfo">uniqueID</a>

    <a name="updatebranch"></a>
    <li>updatebranch<br>
        Dieses Attribut wird mittels der Datei FhemUtils/release.pm gesetzt die 
    im &quot;modpath&quot;-Verzeichnis enthalten ist. Z.B, wenn eine stabile Version von 
    FHEM (ab Version 5.3 aufw&auml;rts) &uuml;ber eine direkte Download-Verbindung vom 
    Archiv der FHEM-Webseite installiert wurde, then wird automatisch der Zweig 
    der Aktualisierung auf "stable"eingestellt.
        In dieser Form der Aktualisierung werden nur behobene Fehler, relevante 
    Sicherheitsl&uuml;cken oder neue stabile Versionen aktualisiert.<br>
        Mittels dem Befehl "update development &lt;filename&gt;" benutzen, 
    k&ouml;nnen Dateien oder Pakete jederzei direkt aus dem Entwicklungszweig
        (z.B. mittels "update development &lt;package&gt;") installiert werden.<br>
        Wenn Sie anstelle von Entwicklungsversionen eine stabile Version 
    installieren wollen, so k&ouml;nnen Sie dies durch Angabe des Attributes "updatebranch DEVELOPMENT" 
    erzwingen.
        Bei der Installation von FHEM sollten Sie generell die 
    Entwicklungsversion installieren. Dieses Attribut muss nicht gesetzt werden. 
    Benutzen Sie dagegen "update development force"
        um alle Dateien, einschliesslich der Datei release.pm (enth&auml;lt die 
    aktuellen Informationen)
        zu aktualisieren.
    </li><br>

    <a name="userattr"></a>
    <li>userattr<br>
        Enth&auml;lt eine durch Leerzeichen getrennte Liste in welcher die Namen 
    zus&auml;tzlicher Attribute aufgef&uuml;hrt sind. Diese m&uuml;ssen zuerst in dieser Liste 
    definiert werden, bevor sie angewendet werden k&ouml;nnen.
    </li><br>

    <a name="verbose"></a>
    <li>verbose<br>
      Setzt den Wert f&uuml;r die H&auml;ufigkeit/Intensit&auml;t von
      Nachrichten. M&ouml;gliche Werte sind:
      <ul>
        <li>0 - Server start/stop
        </li><li>1 - Fehlermeldungen oder unbekannte Pakete 
        </li><li>2 - bedeutende Ereigbisse/Alarme.
        </li><li>3 - ausgesendete Kommandos werden gelogged.
        </li><li>4 - Sie sehen was von den einzelnen Ger&auml;ten empfangen wird.
        </li><li>5 - Fehlersuche.</li>
      </ul>
      Es wird der Wert 3 f&uuml;r den Normalgebrauch empfohlen.
    </li><br>

    <a name="dupTimeout"></a>
    <li>dupTimeout<br>
      Definert die Wartezeit, nach der 2 identische Ereignisse zweier
      Empf&auml;nger als Duplikat angesehen werden. Voreingestellt sind 0,5
      Sekunden.&nbsp;
    </li><br>

    <a name="showInternalValues"></a>
    <li>showInternalValues<br>
      Attribute/Ger&auml;te-Eintraege/Readings die mit Punkt (.) anfangen
      werden nicht angezeigt, es sei denn das globale Attribut
      showInternalValues ist gesetzt. Diese Variable wird bei dem list und
      xmllist Befehl, und bei der FHEMWEB Raumansicht gepr&uuml;ft.
    </li>

  </ul>
</ul>


<a name="DbLog"></a>
<h3>DbLog</h3>
<ul>
  <br>

  <a name="DbLogdefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; DbLog &lt;configfilename&gt; &lt;regexp&gt;</code>
    <br><br>

    Speichert Events in eine Datenbank. Die Datenbankverbindungsparameter werden
    definiert in <code>&lt;configfilename&gt;</code>. (Vergleiche
    Beipspielkonfigurationsdatei in <code>contrib/dblog/db.conf</code>).<br>
    Die Konfiguration ist in einer sparaten Datei abgelegt um das Datenbankpasswort
    nicht in Klartext in der FHEM-Haupt-Konfigurationsdatei speichern zu mÃ¼ssen.
    Ansonsten wÃ¤re es mittels des <a href="../docs/commandref.html#list">list</a>
    Befehls einfach auslesbar.
    <br><br>

    Die Perl-Module <code>DBI</code> and <code>DBD::&lt;dbtype&gt;</code>
    mÃ¼ssen installiert werden (use <code>cpan -i &lt;module&gt;</code>
    falls die eigene Distribution diese nicht schon mitbringt).
    <br><br>

    <code>&lt;regexp&gt;</code> ist identisch wie <a href="../docs/commandref.html#FileLog">FileLog</a>.
    <br><br>
    Ein Beispielcode zum Erstellen einer MySQL/PostGreSQL Datenbak ist in
    <code>contrib/dblog/&lt;DBType&gt;_create.sql</code> zu finden.
    Die Datenbank beinhaltet 2 Tabellen: <code>current</code> und
    <code>history</code>. Die Tabelle <code>current</code> enthÃ¤lt den letzten Stand
    pro Device und Reading. In der Tabelle <code>history</code> sind alle
    Events historisch gespeichert.

    Die Tabellenspalten haben folgende Bedeutung:
    <ol>
    <li>TIMESTAMP: Zeitpunkt des Events, z.B. <code>2007-12-30 21:45:22</code></li>
    <li>DEVICE: name des Devices, z.B. <code>Wetterstation</code></li>
    <li>TYPE: Type des Devices, z.B. <code>KS300</code></li>
    <li>EVENT: das auftretende Event als volle Zeichenkette
                                        z.B. <code>humidity: 71 (%)</code></li>
    <li>READING: Name des Readings, ermittelt aus dem Event,
                    z.B. <code>humidity</code></li>

    <li>VALUE: aktueller Wert des Readings, ermittelt aus dem Event,
                    z.B. <code>71</code></li>
    <li>UNIT: Einheit, ermittelt aus dem Event, z.B. <code>%</code></li>
    </ol>
    Der Wert des Rreadings ist optimiert fÃ¼r eine automatisierte Nachverarbeitung
    z.B. <code>yes</code> ist transformiert nach <code>1</code>
    <br><br>
    Die gespeicherten Werte kÃ¶nnen mittels GET Funktion angezeigt werden:
    <ul>
      <code>get myDbLog - - 2012-11-10 2012-11-10 KS300:temperature</code>
    </ul>
    <br><br>
    <b>Beispiel:</b>
    <ul>
        <code>Speichert alles in der Datenbank</code><br>

        <code>define myDbLog DbLog /etc/fhem/db.conf .*:.*</code>
    </ul>
  </ul>


  <a name="DbLogset"></a>
  <b>Set</b> <ul>N/A</ul><br>

  <a name="DbLogget"></a>
  <b>Get</b>
  <ul>
    <code>get &lt;name&gt; &lt;infile&gt; &lt;outfile&gt; &lt;from&gt;
          &lt;to&gt; &lt;column_spec&gt; </code>
    <br><br>
    LieÃŸt Daten aus der Datenbank. Wird durch die Frontends benutzt um Plots
    zu generieren ohne selbst auf die Datenank zugreifen zu mÃ¼ssen.
    <br>

    <ul>
      <li>&lt;in&gt;<br>
        Ein Dummy Parameter um eine KompatibilitÃ¤t zum Filelog herzustellen.
        Dieser Parameter ist immer auf <code>-</code> zu setzen.
      </li>
      <li>&lt;out&gt;<br>
        Ein Dummy Parameter um eine KompatibilitÃ¤t zum Filelog herzustellen.
        Dieser Parameter ist immer auf <code>-</code> zu setzen um die
        Ermittlung der Daten aus der Datenbank fÃ¼r die Plotgenerierung zu prÃ¼fen.<br>
        Durchd ie Angabe des SchlÃ¼sselworts <code>all</code> werden alle
        Spalten der Datenbank ausgegeben.
          </li>
      <li>&lt;from&gt; / &lt;to&gt;<br>
        Wird benutzt um den Zeitraum der Daten einzugrenzen. Es ist das folgende
        Zeitformat oder ein Teilstring davon zu benutzen:<br>
        <ul><code>YYYY-MM-DD_HH24:MI:SS</code></ul></li>
      <li>&lt;column_spec&gt;<br>
        FÃ¼r jede column_spec Gruppe wird ein Datenset zurÃ¼ckgegeben welches
        durch einen Kommentar getrennt wird. Dieser Kommentar reprÃ¤sentiert
        die column_spec.<br>
        Syntax: &lt;device&gt;:&lt;reading&gt;:&lt;default&gt;:&lt;fn&gt;:&lt;regexp&gt;<br>
        <ul>
          <li>&lt;device&gt;<br>
            Der Name des Devices. Achtung: GroÃŸ/Kleinschreibung beachten!</li>
          <li>&lt;reading&gt;<br>
            Das REading des angegebenen Devices zur Datenselektion.
            Achtung: GroÃŸ/Kleinschreibung beachten!
          </li>
          <li>&lt;default&gt;<br>
            Zur Zeit noch nicht implementiert.
          </li>
          <li>&lt;fn&gt;
            Angabe einer speziellen Funktion:
            <ul>
              <li>int<br>
                Ermittelt den Zahlenwert ab dem Anfang der Zeichenkette aus der
                Spalte "VALUE". Benutzt z.B. fÃ¼r AusprÃ¤gungen wie 10%.
              </li>
              <li>int&lt;digit&gt;<br>
                Ermittelt den Zahlenwert ab dem Anfang der Zeichenkette aus der
                Spalte "VALUE", inclusive negativen Vorzeichen und Dezimaltrenner.
                Benutzt z.B. fÃ¼r AusprÃ¤gungen wie -5.7&deg;C.
              </li>
              <li>delta-h / delta-d<br>
                Ermittelt die relative VerÃ¤nderung eines Zahlenwertes pro Stunde
                oder pro Tag. Wird benutzt z.B. fÃ¼r Spalten die einen
                hochlaufenden ZÃ¤hler enthalten wie im Falle fÃ¼r ein KS300 RegenzÃ¤hler
                oder dem 1-wire Modul OWCOUNT.
              </li>
            </ul></li>
            <li>&lt;regexp&gt;<br>
              Diese Zeichenkette wird als Perl Befehl ausgewertet. $val ist der
              aktuelle Wert die die Datenbank fÃ¼r ein Device/Reading ausgibt.
              Die regexp wird vor dem angegebenen &lt;fn&gt; Parameter ausgefÃ¼hrt.
              <br>
              Bitte zur Beachtung: Diese Zeichenkette darf keine Leerzeichen
              enthalten da diese sonst als &lt;column_spec&gt; Trennung
              interpretiert werden und alles nach dem Leerzeichen als neue
              &lt;column_spec&gt; gesehen wird.
            </li>
        </ul></li>
      </ul>
    <br><br>
    <b>Beispiele:</b>
      <ul>
        <li><code>get myDbLog - - 2012-11-10 2012-11-20 KS300:temperature</code></li>
        <li><code>get myDbLog - - 2012-11-10_10 2012-11-10_20 KS300:temperature::int1</code><br>
           gibt Daten aus von 10Uhr bis 20Uhr am 10.11.2012</li>
        <li><code>get myDbLog - all 2012-11-10 2012-11-20 KS300:temperature</code></li>
        <li><code>get myDbLog - - 2012-11-10 2012-11-20 KS300:temperature KS300:rain::delta-h KS300:rain::delta-d</code></li>
        <li><code>get myDbLog - - 2012-11-10 2012-11-20 MyFS20:data:::$val=~s/(on|off).*/$1eq"on"?1:0/eg</code><br>
           gibt 1 zurÃ¼ck fÃ¼r alle AusprÃ¤gungen von on* (on|on-for-timer etc) und 0 fÃ¼r alle off*</li>
        <li><code>get myDbLog - - 2012-11-10 2012-11-20 Bodenfeuchte:data:::$val=~s/.*B:\s([-\.\d]+).*/$1/eg</code><br>
           Beispiel von OWAD: Ein Wert wie z.B.: <code>"A: 49.527 % B: 66.647 % C: 9.797 % D: 0.097 V"</code><br>
           und die Ausgabe ist fÃ¼r das Reading B folgende: <code>2012-11-20_10:23:54 66.647</code></li>
      </ul>
    <br><br>
  </ul>

  <b>Get</b> fÃ¼r die Nutzung von webcharts
  <ul>
    <code>get &lt;name&gt; &lt;infile&gt; &lt;outfile&gt; &lt;from&gt;
          &lt;to&gt; &lt;device&gt; &lt;querytype&gt; &lt;xaxis&gt; &lt;yaxis&gt; &lt;savename&gt; </code>
    <br><br>
    Liest Daten aus der Datenbank aus und gibt diese in JSON formatiert aus. Wird fÃ¼r das Charting Frontend genutzt
    <br>

    <ul>
      <li>&lt;name&gt;<br>
        Der Name des definierten DbLogs, so wie er in der fhem.cfg angegeben wurde.</li>
      <li>&lt;in&gt;<br>
        Ein Dummy Parameter um eine KompatibilitÃ¤t zum Filelog herzustellen.
        Dieser Parameter ist immer auf <code>-</code> zu setzen.</li>
      <li>&lt;out&gt;<br>
        Ein Dummy Parameter um eine KompatibilitÃ¤t zum Filelog herzustellen. 
        Dieser Parameter ist auf <code>webchart</code> zu setzen um die Charting Get Funktion zu nutzen.
      </li>
      <li>&lt;from&gt; / &lt;to&gt;<br>
        Wird benutzt um den Zeitraum der Daten einzugrenzen. Es ist das folgende
        Zeitformat zu benutzen:<br>
        <ul><code>YYYY-MM-DD_HH24:MI:SS</code></ul></li>
      <li>&lt;device&gt;<br>
        Ein String, der das abzufragende Device darstellt.</li>
      <li>&lt;querytype&gt;<br>
        Ein String, der die zu verwendende Abfragemethode darstellt. Zur Zeit unterstÃ¼tzte Werte sind: <br>
          <code>getreadings</code> um fÃ¼r ein bestimmtes device alle Readings zu erhalten<br>
          <code>getdevices</code> um alle verfÃ¼gbaren devices zu erhalten<br>
          <code>timerange</code> um Chart-Daten abzufragen. Es werden die Parameter 'xaxis', 'yaxis', 'device', 'to' und 'from' benÃ¶tigt<br>
          <code>savechart</code> um einen Chart unter Angabe eines 'savename' und seiner zugehÃ¶rigen Konfiguration abzuspeichern<br>
          <code>deletechart</code> um einen zuvor gespeicherten Chart unter Angabe einer id zu lÃ¶schen<br>
          <code>getcharts</code> um eine Liste aller gespeicherten Charts zu bekommen.<br>
          <code>getTableData</code> um Daten aus der Datenbank abzufragen und in einer Tabelle darzustellen. BenÃ¶tigt paging Parameter wie start und limit.<br>
          <code>hourstats</code> um Statistiken fÃ¼r einen Wert (yaxis) fÃ¼r eine Stunde abzufragen.<br>
          <code>daystats</code> um Statistiken fÃ¼r einen Wert (yaxis) fÃ¼r einen Tag abzufragen.<br>
          <code>weekstats</code> um Statistiken fÃ¼r einen Wert (yaxis) fÃ¼r eine Woche abzufragen.<br>
          <code>monthstats</code> um Statistiken fÃ¼r einen Wert (yaxis) fÃ¼r einen Monat abzufragen.<br>
          <code>yearstats</code> um Statistiken fÃ¼r einen Wert (yaxis) fÃ¼r ein Jahr abzufragen.<br>
      </li>
      <li>&lt;xaxis&gt;<br>
        Ein String, der die X-Achse reprÃ¤sentiert</li>
      <li>&lt;yaxis&gt;<br>
         Ein String, der die Y-Achse reprÃ¤sentiert</li>
      <li>&lt;savename&gt;<br>
         Ein String, unter dem ein Chart in der Datenbank gespeichert werden soll</li>
      <li>&lt;chartconfig&gt;<br>
         Ein jsonstring der den zu speichernden Chart reprÃ¤sentiert</li>
      <li>&lt;pagingstart&gt;<br>
         Ein Integer um den Startwert fÃ¼r die Abfrage 'getTableData' festzulegen</li>
      <li>&lt;paginglimit&gt;<br>
         Ein Integer um den Limitwert fÃ¼r die Abfrage 'getTableData' festzulegen</li>
      </ul>
    <br><br>
    Beispiele:
      <ul>
        <li><code>get logdb - webchart "" "" "" getcharts</code><br>
            Liefert alle gespeicherten Charts aus der Datenbank</li>
        <li><code>get logdb - webchart "" "" "" getdevices</code><br>
            Liefert alle verfÃ¼gbaren Devices aus der Datenbank</li>
        <li><code>get logdb - webchart "" "" ESA2000_LED_011e getreadings</code><br>
            Liefert alle verfÃ¼gbaren Readings aus der Datenbank unter Angabe eines GerÃ¤tes</li>
        <li><code>get logdb - webchart 2013-02-11_00:00:00 2013-02-12_00:00:00 ESA2000_LED_011e timerange TIMESTAMP day_kwh</code><br>
            Liefert Chart-Daten, die auf folgenden Parametern basieren: 'xaxis', 'yaxis', 'device', 'to' und 'from'<br>
            Die Ausgabe erfolgt als JSON, z.B.: <code>[{'TIMESTAMP':'2013-02-11 00:10:10','VALUE':'0.22431388090756'},{'TIMESTAMP'.....}]</code></li>
        <li><code>get logdb - webchart 2013-02-11_00:00:00 2013-02-12_00:00:00 ESA2000_LED_011e savechart TIMESTAMP day_kwh tageskwh</code><br>
            Speichert einen Chart unter Angabe eines 'savename' und seiner zugehÃ¶rigen Konfiguration</li>
        <li><code>get logdb - webchart "" "" "" deletechart "" "" 7</code><br>
            LÃ¶scht einen zuvor gespeicherten Chart unter Angabe einer id</li>
      </ul>
    <br><br>
  </ul>

  <a name="DbLogattr"></a>
  <b>Attributes</b> <ul>N/A</ul><br>
</ul>

<a name="FBAHA"></a>
<h3>FBAHA</h3>
<ul>
  <b>Achtung:</b> Es ist bekannt, da&szlig; dieses Modul mit FRITZ!OS 5.50 auf
  einem FB7390 funktioniert, aber <b>den FB7270 zum Absurz bringt</b>.<br><br>

  Dieses Modul verbindet sich mit dem AHA (AVM Home Automation) Server auf
  einem FRITZ!Box. Es dient als "physikalisches" Gegenst&uuml;ck zum <a
  href="#FBDECT">FBDECT</a> Modul.
  <br><br>
  <a name="FBAHAdefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; FBAHA &lt;device&gt;</code>
  <br>
  <br>
  &lt;host&gt; ist normalerweise die Adresse der FRITZ!Box, wo das AHA Server
  l&auml;uft (fritz.box oder localhost), &lt;port&gt; ist 2002.

  &lt;device&gt; is entweder a eine Kombianation aus &lt;host&gt;:&lt;port&gt;,
  wobei &lt;host&gt; die Adresse der FRITZ!Box ist (localhost AUF dem
  FRITZ.BOX) und &lt;port&gt; 2002 ist, oder
  UNIX:SEQPACKET:/var/tmp/me_avm_home_external.ctl, wobei das nur fuer
  FHEM@FRITZ!BOX zur Verfügung steht. Mit FRITZ!OS 5.50 steht auch der
  Netzwerkport zur Verfügung, auf manchen Laborvarianten nur das UNIX socket.
  <br>
  Beispiel:
  <ul>
    <code>define fb1 FBAHA fritz.box:2002</code><br>
    <code>define fb1 FBAHA UNIX:SEQPACKET:/var/tmp/me_avm_home_external.ctl</code><br>
  </ul>
  </ul>
  <br>

  <a name="FBAHAset"></a>
  <b>Set</b>
  <ul>
  <li>createDevs<br>
    legt FHEM Ger&auml;te an f&uuml;r jedes auf dem AHA-Server gefundenen DECT
    Eintrag, siehe auch "get devList".
    </li>
  </ul>
  <br>

  <a name="FBAHAget"></a>
  <b>Get</b>
  <ul>
  <li>devList<br>
    liefert die Liste aller DECT-Eintr&auml;ge der AHA Server zur&uuml;ck, mit
    einem kurzen Info.
    </li>
  </ul>
  <br>

  <a name="FBAHAattr"></a>
  <b>Attributes</b>
  <ul>
    <li><a href="#dummy">dummy</a></li>
    <li><a href="#loglevel">loglevel</a></li>
  </ul>
  <br>

  <a name="FBAHAevents"></a>
  <b>Generierte Events:</b>
  <ul>
  <li>UNDEFINED FBDECT_$ahaName_${NR} FBDECT $id"
    </li>
  </ul>

</ul>
<a name="FBDECT"></a>
<h3>FBDECT</h3>
<ul>
  Dieses Modul wird verwendet, um AVM FRITZ!DECT Ger&auml;te via FHEM zu
  steuern, siehe auch das <a href="#FBAHA">FBAHA</a> Modul f&uumlr die
  Anbindung an das FRITZ!Box.
  <br><br>
  <a name="FBDECTdefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; FBDECT &lt;homeId&gt; &lt;id&gt; [classes]</code>
  <br>
  <br>
  &lt;id&gt; ist das Ger&auml;te-ID, das Argument wird z.Zt ignoriert.
  <br>
  Beispiel:
  <ul>
    <code>define lampe FBDECT 16 switch,powerMeter</code><br>
  </ul>
  <b>Achtung:</b>FBDECT Eintr&auml;ge werden noralerweise per 
  <a href="#autocreate">autocreate</a> angelegt.
  </ul>
  <br>
  <br

  <a name="FBDECTset"></a>
  <b>Set</b>
  <ul>
  <li>on/off<br>
  Ger&auml;t einschalten bzw. ausschalten.</li>
  <li>
  Die <a href="#setExtensions">set extensions</a> werden unterst&uuml;tzt.</li>
  </ul>
  <br>

  <a name="FBDECTget"></a>
  <b>Get</b>
  <ul>
  <li>devInfo<br>
  meldet Ger&auml;te-Informationen.</li>
  </ul>
  <br>

  <a name="FBDECTattr"></a>
  <b>Attribute</b>
  <ul>
    <li><a href="#IODev">IODev</a></li>
    <li><a href="#do_not_notify">do_not_notify</a></li>
    <li><a href="#ignore">ignore</a></li>
    <li><a href="#dummy">dummy</a></li>
    <li><a href="#showtime">showtime</a></li>
    <li><a href="#loglevel">loglevel</a></li>
    <li><a href="#model">model</a></li>
    <li><a href="#readingFnAttributes">readingFnAttributes</a></li>
  </ul>
  <br>

  <a name="FBDECTevents"></a>
  <b>Generierte events:</b>
  <ul>
    <li>on</li>
    <li>off</li>
    <li>set_on</li>
    <li>set_off</li>
    <li>current: $v A</li>
    <li>voltage: $v V</li>
    <li>power: $v W</li>
    <li>energy: $v Wh</li>
    <li>powerFactor: $v"</li>
    <li>temperature: $v C</li>
  </ul>
</ul>
<a name="FB_CALLMONITOR"></a>
<h3>FB_CALLMONITOR</h3>
<ul>
  <tr><td>
  Das Modul FB_CALLMONITOR verbindet sich zu einer AVM FritzBox Fon und verarbeitet
  Telefonie-<a href="#FB_CALLMONITORevents">Ereignisse</a>.(eingehende & ausgehende Telefonate)
  <br><br>
  Um dieses Modul nutzen zu k&ouml;nnen, muss der CallMonitor via Kurzwahl mit einem Telefon aktiviert werden.
 .<br><br>
  <ul>
      <code>#96*5* - CallMonitor aktivieren<br>#96*4* - CallMonitor deaktivieren</code>
  </ul>
  <br>
  Einfach die entsprechende Kurzwahl auf irgend einem Telefon eingeben, welches an die Fritz!Box angeschlossen ist. 
  Nach ca. 3 Sekunden kann man einfach wieder auflegen. Nun ist der CallMonitor aktiviert.
  <br>
  Sobald der CallMonitor auf der Fritz!Box aktiviert wurde erzeugt das Modul entsprechende Events (s.u.)
  <br><br>
  Dieses Modul funktioniert mit allen Fritz!Box Modellen, welche Telefonie unterst&uuml;tzen (Namenszusatz: Fon).
  <br><br>
  
  <a name="FB_CALLMONITORdefine"></a>
  <b>Definition</b>
  <ul>
    <code>define &lt;name&gt; FB_CALLMONITOR &lt;IP-Addresse&gt;[:Port]</code><br>
    <br>
    Port 1012 ist der Standardport und muss daher nicht explizit angegeben werden.
    <br>
  </ul>
  <br>
  <a name="FB_CALLMONITORset"></a>
  <b>Set-Kommandos</b>
  <ul>
  <li><b>rereadPhonebook</b> - Liest das Telefonbuch der FritzBox neu ein (per Datei oder direkt lokal)</li>
  </ul>
  <br>

  <a name="FB_CALLMONITORget"></a>
  <b>Get-Kommandos</b>
  <ul>
  <li><b>search &lt;Rufnummer&gt;</b> - gibt den Namen der Telefonnummer zur&uuml;ck (aus Cache, Telefonbuch oder R&uuml;ckw&auml;rtssuche)</li>
  </ul>
  <br>

  <a name="FB_CALLMONITORattr"></a>
  <b>Attribute</b><br><br>
  <ul>
    <li><a href="#loglevel">loglevel</a></li>
    <li><a href="#do_not_notify">do_not_notify</a></li>
    <li><a href="#readingFnAttributes">readingFnAttributes</a></li>
    <li><a name="reverse-search">reverse-search</a> (all|internal|klicktel.de|dasoertliche.de|search.ch|none)</li>
    Aktiviert die R&uuml;ckw&auml;rtssuche der externen Rufnummer der Gegenstelle (bei eingehenden/abgehenden Anrufen).
    Es ist m&ouml;glich einen bestimmten Suchanbieter zu verwenden, welcher f&uuml;r die R&uuml;ckw&auml;rtssuche verwendet werden soll.
    Falls FHEM auf einer FritzBox Fon l&auml;uft, kann mit dem Wert "internal" ausschlie&szlig;lich das interne Telefonbuch verwendet werden.
    Wenn dieses Attribut auf dem Wert "all" steht, wird (sofern FHEM auf einer FritzBox Fon l&auml;uft) das interne Telefonbuch verwendet,
    sowie alle verf&uuml;gbaren Suchanbieter (ausser search.ch)
    f&uuml;r die R&uuml;ckw&auml;rtssuche herangezogen, solange bis irgend ein Anbieter ein valides Ergebniss liefert.
    Wenn der Wert "none" ist, wird keine R&uuml;ckw&auml;rtssuche durchgef&uuml;hrt.<br><br>Standardwert ist "none" (keine R&uuml;ckw&auml;rtssuche).<br><br>
    <li><a name="reverse-search-cache">reverse-search-cache</a></li>
    Wenn dieses Attribut gesetzt ist, werden alle Ergebisse der R&uuml;ckw&auml;rtssuche in einem modul-internen gespeichert
    und von da an nur noch aus dem Cache genutzt anstatt eine erneute R&uuml;ckw&auml;rtssuche durchzuf&uuml;hren.<br><br>
    M&ouml;gliche Werte: 0 => deaktiviert , 1 => aktiviert<br>
    Standardwert ist 0 (deaktiviert)<br><br>
    <li><a name="reverse-search-cache-file">reverse-search-cache-file</a> &lt;Dateipfad&gt;</li>
    Da der Cache nur im Arbeitsspeicher existiert, ist er nicht persisten und geht beim stoppen von FHEM verloren.
    Mit diesem Parameter werden alle Cache-Ergebnisse in eine Textdatei geschrieben (z.B.  /usr/share/fhem/telefonbuch.txt) 
    und beim n&auml;chsten Start von FHEM direkt wieder in den Cache geladen und genutzt.
    <br><br>
    <li><a name="reverse-search-phonebook-file">reverse-search-phonebook-file</a> &lt;Dateipfad&gt</li>
    Mit diesem Attribut kann man optional den Pfad zu einer Datei angeben, welche ein Telefonbuch im FritzBox-Format (XML-Struktur) enth&auml;lt.
    Dadurch ist es m&ouml;glich ein FritzBox-Telefonbuch zu verwenden, ohne das FHEM auf einer FritzBox laufen muss.
    Sofern FHEM auf einer FritzBox l&auml;uft (und nichts abweichendes angegeben wurde), wird das interne File /var/flash/phonebook verwendet. Alternativ kann man das Telefonbuch in der FritzBox-WeboberflÃ¤che exportieren und dieses verwenden<br><br>
    Standartwert ist /var/flash/phonebook (entspricht dem Pfad auf einer FritzBox)<br><br>
    <li><a name="remove-leading-zero">remove-leading-zero</a></li>
    Wenn dieses Attribut aktiviert ist, wird die f&uuml;hrende Null aus der externen Rufnummer (bei eingehenden & abgehenden Anrufen) entfernt. Dies ist z.B. notwendig bei Telefonanlagen.<br><br>
    M&ouml;gliche Werte: 0 => deaktiviert , 1 => aktiviert<br>
    Standardwert ist 0 (deaktiviert)<br><br>
<li><a name="unique-call-ids">unique-call-ids</a></li>
    Wenn dieses Attribut aktiviert ist, wird f&uuml;r jedes Gespr&auml;ch eine eineindeutige Identifizierungsnummer verwendet. Dadurch lassen sich auch bereits beendete Gespr&auml;che voneinander unterscheiden. Dies ist zum Beispiel notwendig bei der Verarbeitung der Events durch eine Datenbank.<br><br>
    M&ouml;gliche Werte: 0 => deaktiviert , 1 => aktiviert<br>
    Standardwert ist 0 (deaktiviert)<br><br>
    <li><a name="local-area-code">local-area-code</a></li>
    Verwendet die gesetze Vorwahlnummer bei R&uuml;ckw&auml;rtssuchen bei Ortsgespr&auml;chen (z.B. 0228 f&uuml;r Bonn)<br><br>
  </ul>
  <br>
 
  <a name="FB_CALLMONITORevents"></a>
  <b>Generierte Events:</b><br><br>
  <ul>
  <li><b>event</b>: (call|ring|connect|disconnect) - Welches Event wurde genau ausgel&ouml;st.</li>
  <li><b>external_number</b>: $number - Die Rufnummer des Gegen&uuml;bers, welcher anruft (event: ring) oder angerufen wird (event: call)</li>
  <li><b>external_name</b>: $name - Das Ergebniss der R&uuml;ckw&auml;rtssuche (sofern aktiviert). Im Fehlerfall kann diese Reading auch den Inhalt "unknown" (keinen Eintrag gefunden) und "timeout" (Zeit&uuml;berschreitung bei der Abfrage) enthalten. Im Falle einer Zeit&uuml;berschreitung und aktiviertem Caching, wird die Rufnummer beim n&auml;chsten Mal erneut gesucht.</li>
  <li><b>internal_number</b>: $number - Die interne Rufnummer (Festnetz, VoIP-Nummer, ...) auf welcher man angerufen wird (event: ring) oder die man gerade nutzt um jemanden anzurufen (event: call)</li>
  <li><b>internal_connection</b>: $connection - Der interne Anschluss an der Fritz!Box welcher genutzt wird um das Gespr&auml;ch durchzuf&uuml;hren (FON1, FON2, ISDN, DECT, ...)</li>
  <li><b>external_connection</b>: $connection - Der externe Anschluss welcher genutzt wird um das Gespr&auml;ch durchzuf&uuml;hren  (Festnetz, VoIP Nummer, ...)</li>
  <li><b>call_duration</b>: $seconds - Die Gespr&auml;chsdauer in Sekunden. Dieser Wert wird nur bei einem disconnect-Event erzeugt. Ist der Wert 0, so wurde das Gespr&auml;ch von niemandem angenommen.</li>
  <li><b>call_id</b>: $id - Die Identifizierungsnummer eines einzelnen Gespr&auml;chs. Dient der Zuordnung bei 2 oder mehr parallelen Gespr&auml;chen, damit alle Events eindeutig einem Gespr&auml;ch zugeordnet werden k&ouml;nnen</li>
  <li><b>missed_call</b>: $number - Dieses Event wird nur generiert, wenn ein eingehender Anruf nicht beantwortet wird. Sofern der Name dazu bekannt ist, wird dieser ebenfalls mit angezeigt.</li>
  </ul>
</ul>


<a name="FLOORPLAN"></a>
<h3>FLOORPLAN</h3>
<ul>
  FÃ¼gt dem fhem-MenÃ¼ einen zusÃ¤tzlichen MenÃ¼punkt "Floorplans" hinzu, dre zu einer Anzeige ohne fhem-MenÃ¼, RÃ¤ume oder device-Listen fÃ¼hrt.
  GerÃ¤te kÃ¶nnen an einer festlegbaren Koordinate auf dem Bildschirm angezeigt werden, Ã¼blicherweise mit einem anklickbaren icon, das das Ein- oder Aus-Schalten
  des GerÃ¤ts durch klicken erlaubt. Ein Hintergrundbild kann verwendet werden - z.B. ein Grundriss oder jegliches andere Bild.
  Mit floorplanstyle.css kann die Formatierung angepasst werden.<br>
  Eine Schritt-fÃ¼r-Schritt-Anleitung zur Einrichtung ist verfÃ¼gbar in
  <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/docs/fhem-floorplan-installation-guide.pdf">Englisch</a> und
  <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/docs/fhem-floorplan-installation-guide_de.pdf">Deutsch</a>. <br>
  <br>

  <a name="FLOORPLANdefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; FLOORPLAN </code>
    <br><br>

    <b>Hinweis:</b> Speichern Sie Ihr Hintergrundbild mit dem Dateinamen fp_&lt;name&gt;.png in Ihrem icon_ordner (www/images/default , www/pgm2 or FHEM) .<br><br>
    Beispiel:
    <ul>
      <code>
	  define Grundriss FLOORPLAN<br>
	  fp_Grundriss.png
	  </code><br>
    </ul>
  </ul>
  <br>

  <a name="FLOORPLANset"></a>
  <b>Set</b>
  <ul>
      <li>N/A</li>
  </ul>
  <br>

  <a name="FLOORPLANget"></a>
  <b>Get </b>
  <ul>
      <li>N/A</li>
  </ul>
  <br>

  <a name="FLOORPLANattr"></a>
  <b>Attribute</b>
  <ul>
    <li><a name="fp_fpname">userattr fp_&lt;name&gt; &lt;top&gt;,&lt;left&gt;[,&lt;style&gt;[,&lt;description&gt;]]</a><br><br>
    A <a href="#userattr">userattr</a> fp_&lt;name&gt; wird automatisch angelegt, sofern es noch nicht existiert.<br>
	<ul>
      <li>top   = Bildschirmposition, pixel vom oberen Bildschirmrand</li>
      <li>left  = Bildschirmposition, pixel vom linken Bildschirmrand</li>
      <li>style =
		<ul>
			<li>0  nur icon/Status</li>
			<li>1  GerÃ¤tename und icon/Status</li>
			<li>2  GerÃ¤tename, icon/Status und Kommandos</li>
			<li>3  GerÃ¤te-reading und optionale Beschreibung</li>
			<li>4  S300TH-spezifisch, zeigt Temperatur und Luftfeuchtigkeit an</li>
			<li>5  icon/Status und Kommandos (ohne GerÃ¤tename)</li>
			<li>6  GerÃ¤te-reading, Zeitstempel und optionale Beschreibung</li>
		</ul>
	  </li>
      <li>Eine ggf. angegebene Bschreibung wird anstelle des original-GerÃ¤tenamens angezeigt.</li>
    </ul></li><br>
    Beispiele:<br>
    <ul>
		<table>
			<tr><td><code>attr lamp1 fp_Erdgeschoss 100,100</code></td><td><code>#display lamp1 with icon only at screenposition 100,100</code></td></tr>
			<tr><td><code>attr lamp2 fp_Erdgeschoss 100,140,1,Art-Deco</code></td><td><code>#display lamp2 with description 'Art-Deco-Light' at 100,140</code></td></tr>
			<tr><td><code>attr lamp2 fp_ErsteEtage  130,100,1</code></td><td><code>#display the same device at different positions on other floorplans</code></td></tr>
			<tr><td><code>attr myFHT fp_Erdgeschoss 300,20,10,Temperature</code></td><td><code>#display given Text + FHT-temperature</code></td></tr>
		</table>
	</ul>
	<b>Hinweis:</b> Die Parameter mÃ¼ssen ohne Leerstellen aneinandergereiht werden.<br><br>


    <li><a name="fp_arrange">fp_arrange</a><br>
  	  Aktiviert den "arrange-Modus" der ein zusÃ¤tzliches MenÃ¼ anzeigt,
	  mit dem GerÃ¤te auf dem Bildschirm angeordnet werden kÃ¶nnen. Dabei kÃ¶nnen die Koordinaten auch durch Platzieren mit der Maus gesetzt werden.<br>
	  Beispiel:
	<ul>
      <code>attr Erdgeschoss fp_arrange 1</code><br>
	  <code>attr Erdgeschoss fp_arrange detail  #Zeigt die GerÃ¤te mit den Infos Raum, Typ und Alias</code><br>
	  <code>attr Erdgeschoss fp_arrange WEB     #Aktiviert den arrange-Modus nur fÃ¼r die Webinstanz WEB</code><br><br>
    </ul>
    </li>
    <li><a name="stylesheet">stylesheet</a><br>
	ErmÃ¶glicht die Verwendung eines eigenen css-stylesheet fÃ¼r Ihren floorplan. Dieses Attribut hat Vorrang vor dem Standard-stylesheet.
	Das Standard-stylesheet fÃ¼r floorplans ist <code>floorplanstyle.css</code>. Falls <a href="#stylesheetPrefix">stylesheetPrefix</a> in der korrespondierenden FHEMWEB-Instanz gesetzt ist, wird dieser
	<code>stylesheetPrefix</code> auch dem stylesheet fÃ¼r floorplans vorangestellt (prepend).<br>
	Alle stylesheets werden im stylesheet-Ordner des fhem-Dateisystems abgelegt. Legen Sie dort 
	Ihr eigenes stylesheet neben  <code>floorplanstyle.css</code> in demselben Ordner ab.<br>
	Beispiel:
	<ul>
       <code>attr Erdgeschoss stylesheet myfloorplanstyle.css</code><br><br>
    </ul>
    </li>

	<li><a name="fp_default">fp_default</a><br>
	Der floorplan-Startbildschirm wird Ã¼bersprungen wenn dieses Attribut einem der von Ihnen definierten floorplans zugeordnet ist.
	</li>
    Beispiel:
	<ul>
      <code>attr Erdgeschoss fp_default 1</code><br><br>
    </ul>

	<li><a name="fp_noMenu">fp_noMenu</a><br>
	Blendet das floorplans-MenÃ¼ aus, das normalerweise am linken Bildschirmrand angezeigt wird.
	</li>
    Beispiel:
	<ul>
      <code>attr Erdgeschoss fp_noMenu 1</code><br><br>
    </ul>

    <li><a name="commandfield">commandfield</a><br>
	FÃ¼gt Ihrem floorplan ein fhem-Kommandofeld hinzu.
	</li>
    Beispiel:
	<ul>
      <code>attr Erdgeschoss commandfield 1</code><br><br>
    </ul>
	
    <li><a name="fp_backgroundimg">fp_backgroundimg</a><br>
	Gestattet die Bennung eine Hintergundbilds unabhÃ¤ngig vom floorplan-Namen.<br>
    <b>Hinweis:</b> Das Attribut kann mittels notify geÃ¤ndert werden, um z.B. unterschiedliche Hintergundbidlder am Tag oder in der Nacht anzuzeigen.<br>
    Beispiel:
	<ul>
      <code>attr Erdgeschoss fp_backgroundimg foobar.png</code><br><br>
    </ul>
    <li><a name="fp_viewport">fp_viewport</a><br>
	Gestattet die Verwendung eines abweichenden viewport-Wertes fÃ¼r die touchpad-Ausgabe.<br>
	Die Default-viewport-Angbe ist "width=768".

    <li><a name="fp_inherited">Vererbt von FHEMWEB</a><br>
	Die folgenden Attribute werden von der zugrundliegenden <a href="#FHEMWEB">FHEMWEB</a>-Instanz vererbt:<br>
    <ul>
		<a href="#smallscreen">smallscreen</a><br>
		<a href="#touchpad">touchpad</a><br>
		<a href="#refresh">refresh</a><br>
		<a href="#plotmode">plotmode</a><br>
		<a href="#plotsize">plotsize</a><br>
		<a href="#webname">webname</a><br>
		<a href="#redirectCmds">redirectCmds</a><br>
		<a href="#longpoll">longpoll</a><br>
    </ul>
    </li><br>
  </ul>
  <br>
</ul>

<a name="Heating_Control"></a>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
<h3>Heating Control</h3>
<ul>
  <br>
  <a name="Heating_Controldefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; Heating_Control &lt;device&gt; &lt;profile&gt; &lt;command&gt;|&lt;condition&gt;</code>
    <br><br>

    Bildet ein Wochenprofil f&uumlr ein &lt;device&gt;, zb. Heizk&oumlrper, ab.<br>
    Es k&oumlnnen f&uumlr jeden Tag unterschiedliche Schaltzeiten angegeben werden.<br>
    Ist das &lt;device&gt; ein Heizk&oumlrperthermostat (zb. FHT8b, MAX) so wird bei FHT8b/MAX die
    zu setzende Temperatur im &lt;profile&gt; automatisch mittels <br><br>
    <code>set &lt;device&gt; (desired-temp|desiredTemerature) &lt;temp&gt;</code> <br><br> gesendet.
    Struktuen von Heizk&oumlrperthermostaten bekommen aufgrund des fhem-Typs auch desired-temp gesendet:
    Nutze bitte explizite Kommandos wenn du Strukturen von MAX Heizthermostaten gesteuert werden sollen.<br><br>
    Ist eine &lt;condition&gt; angegeben und ist zum Schaltpunkt der Ausdruck unwahr,
    so wird dieser Schaltpunkt nicht ausgef&uumlhrt.<br>
    Alternativ zur Automatik kann stattdessen eigener Perl-Code im &lt;command&gt; ausgef&uumlhrt werden.
    <p>
    Folgende Parameter sind im Define definiert:
    <ul><b>device</b><br>
      Das an den Schaltpunkten zu schaltende Device.
    </ul>
    <p>
    <ul><b>profile</b><br>
      Angabe des Wochenprofils. Die einzelnen Schaltzeiten sind durch Leerzeichen getrennt
      Die Angabe der Schaltzeiten ist nach folgendem Muster definiert:<br>
      <ul><b>[&lt;Wochentage&gt;|]&lt;Uhrzeit&gt;|&lt;Parameter&gt;</b></ul><br>
      <u>Wochentage:</u> optionale Angabe, falls nicht gesetzt wird der Schaltpunkt jeden Tag ausgef&uumlhrt.
        F&uumlr die Tage an denen dieser Schaltpunkt aktiv sein soll, ist jeder Tag mit seiner
        Tagesnummer (Mo=1, ..., So=7) oder Name des Tages (Mo, Di, ..., So) einzusetzen.<br>
      <u>Uhrzeit:</u>Angabe der Uhrzeit an dem geschaltet werden soll, Format: HH:MM(HH im 24 Stunden format)<br>
      <u>Parameter:</u>Angabe der zu setzenden Temperatur als Zahl mit Format 99.9 oder als symbolische Konstante <b>eco</b>
      or <b>comfort</b> - was immer das Heizk&oumlrperthermostat versteht.<br>
    </ul>
    <p>
    <ul><b>command</b><br>
      Falls keine Condition in () angegeben wurde, so wird alles weitere als Command
      interpretiert. Perl-Code ist in {} zu setzen. <br>
      Wichtig: Falls ein Command definiert ist, so wird zu den definierten Schaltzeiten
      nur(!) das Command ausgef&uumlhrt. Falls ein desired-temp Befehl abgesetzt werde soll,
      so muss dies explizit angegeben werden.<br>
      Folgende Parameter werden ersetzt:<br>
        <ol>
          <li>@ => das zu schaltende Device</li>
          <li>% => die zu setzende Temperatur</li>
        </ol>
    </ul>
    <p>
    <ul><b>condition</b><br>
      Bei Angabe einer Condition ist diese in () zu setzen und mit validem Perl-Code zu versehen.<br>
      Der R&uumlckgabedatentyp der condition muss boolean sein.<br>
      Die Parameter @ und  % werden interpretiert.
    </ul>
    <p>
    <b>Beispiel:</b>
    <ul>
        <code>define HCB Heating_Control Bad_Heizung 12345|05:20|21 12345|05:25|comfort 17:20|21 17:25|eco</code><br>
        Mo-Fr wird die Temperatur um 05:20Uhr auf 21&deg;C, und um 05:25Uhr auf <b>comfort</b> gesetzt.
        Jeden Tag wird die Temperatur um 17:20Uhr auf 21&deg;C und 17:25Uhr auf <b>eco</b> gesetzt.<p>

        <code>define HCW Heating_Control WZ_Heizung 07:00|16 Mo,Di,Mi|16:00|18.5 20:00|12
          {fhem("set dummy on"); fhem("set @ desired-temp %");}</code><br>
        Zu den definierten Schaltzeiten wird nur(!) der in {} angegebene Perl-Code ausgef&uumlhrt.<p>

        <code>define HCW Heating_Control WZ_Heizung Sa-So,Mi|08:00|21 (ReadingsVal("WeAreThere", "state", "no") eq "yes")</code><br>
        Die zu setzende Temperatur wird nur gesetzt, falls die Dummy Variable WeAreThere = "yes" ist.<p>
    </ul>
  </ul>

  <a name="Heating_Controlset"></a>
  <b>Set</b> <ul>N/A</ul><br>

  <a name="Heating_Controlget"></a>
  <b>Get</b> <ul>N/A</ul><br>

  <a name="Heating_ControlLogattr"></a>
  <b>Attributes</b>
  <ul>
    <li><a href="#disable">disable</a></li>
    <li><a href="#loglevel">loglevel</a></li>
    <li><a href="#event-on-update-reading">event-on-update-reading</a></li>
    <li><a href="#event-on-change-reading">event-on-change-reading</a></li>
    <li><a href="#stateFormat">stateFormat</a></li>
  </ul><br>
</ul>

<a name="PRESENCE"></a>
<h3>PRESENCE</h3>
<ul>
  <tr><td>
  Das PRESENCE Module bietet mehrere M&ouml;glichkteiten um die Anwesenheit von Handys/Smartphones oder anderen mobilen Ger&auml;ten (z.B. Tablets) zu erkennen.
  <br><br>
  Dieses Modul bietet dazu mehrere Modis an um Anwesenheit zu erkennen. Diese sind:<br><br>
  <ul>
  <li><b>lan-ping</b> - Eine Erkennung auf Basis von Ping-Tests im lokalen LAN/WLAN</li>
  <li><b>fritzbox</b> - Eine Erkennung aufgrund der internen Abfrage des Status auf der FritzBox (nur m&ouml;glich, wenn FHEM auf einer FritzBox l&auml;uft)</li>
  <li><b>local-bluetooth</b> - Eine Erkennung auf Basis von Bluetooth-Abfragen durch den FHEM Server. Das Ger&auml;t muss dabei in Empfangsreichweite sein, aber nicht sichtbar sein</li>
  <li><b>lan-bluetooth</b> - Eine Erkennung durch Bluetooth-Abfragen via Netzwerk (LAN/WLAN) in ein oder mehreren R&auml;umen</li>
  </ul>
  <br><br>
  <a name="PRESENCEdefine"></a>
  <b>Define</b><br><br>
  <ul><b>Modus: lan-ping</b><br><br>
    <code>define &lt;name&gt; PRESENCE lan-ping &lt;IP-Addresse oder Hostname&gt; [ &lt;Interval&gt; [ &lt;Anwesend-Interval&gt; ] ]</code><br>
    <br>
    Pr&uuml;ft ob ein Ger&auml;t &uuml;ber Netzwerk (&uuml;blicherweise WLAN) auf Ping-Anfragen reagiert und setzt entsprechend den Anwesenheitsstatus.<br>
    <br>
    <b>Modus: fritzbox</b><br><br>
    <code>define &lt;name&gt; PRESENCE fritzbox &lt;device-name&gt; [ &lt;Interval&gt; [ &lt;Anwesend-Interval&gt; ] ]</code><br>
    <br>
    Pr&uuml;ft ob ein Ger&auml;t welches per WLAN mit der FritzBox verbunden ist, erreichbar durch Abfrage des Status mit dem Befehl ctlmgr_ctl. 
    Der Ger&auml;tename (Parameter: &lt;device-name&gt;) muss dem Namen entsprechen, welcher im Men&uuml;punkt "Heimnetz" auf der FritzBox-Oberfl&auml;che angezeigt wird.<br>
    <br>
    <b>Modus: local-bluetooth</b><br><br>
    <code>define &lt;name&gt; PRESENCE local-bluetooth &lt;Bluetooth-Adresse&gt; [ &lt;Interval&gt; [ &lt;Anwesend-Interval&gt; ] ]</code><br>
    <br>
    Pr&uuml;ft ob ein Bluetooth-Ger&auml;t abgefragt werden kann und meldet dies als Anwesenheit. F&uuml;r diesen Modus wird der Shell-Befehl "hcitool" ben&ouml;tigt
    (wird durch das Paket <a href="http://www.bluez.org" target="_new">bluez</a> bereitgestellt), sowie ein funktionierender Bluetooth-Empf&auml;nger (intern oder als USB-Stick)<br><br>
    <b>Modus: lan-bluetooth</b><br><br>
    Pr&uuml;ft ein Bluetooth-Ger&auml;t auf Anwesenheit &uuml;ber Netzwerk mit Hilfe von presenced oder collectord. Diese k&ouml;nnen auf jeder Maschine installiert werden,
    welche eine Standard-Perl-Umgebung bereitstellt und &uuml;ber Netzwerk erreichbar ist.
    <br>
    <br>
    <code>define &lt;name&gt; PRESENCE &lt;IP-Adresse&gt;[:Port] &lt;Bluetooth-Adresse&gt; [ &lt;Interval&gt; ]</code><br>
    <br>
    Der Standardport ist 5111 (presenced). Alternativ kann man den Port 5222 (collectord) nutzen. Generell ist der Port aber frei w&auml;hlbar.<br>
    <br>
    <u>presenced</u><br><br>
    <ul>Der presenced ist ein Perl Netzwerk Dienst, welcher eine Bluetooth-Anwesenheitserkennung von ein oder mehreren Ger&auml;ten &uuml;ber Netzwerk bereitstellt. 
    Dieser lauscht standardm&auml;&szlig;ig auf TCP Port 5111 nach eingehenden Verbindungen von dem PRESENCE Modul oder einem collectord.<br>
<PRE>
Usage:
  presenced -d [-p &lt;port&gt;] [-P &lt;filename&gt;]
  presenced [-h | --help]


Options:
  -p, --port
     TCP Port which should be used (Default: 5111)
  -P, --pid-file
     PID file for storing the local process id (Default: /var/run/presenced.pid)
  -d, --daemon
     detach from terminal and run as background daemon
  -v, --verbose
     Print detailed log output
  -h, --help
     Print detailed help screen
</PRE>
    
    Zur Bluetooth-Abfrage wird der Shell-Befehl "hcitool" verwendet (Paket: <a href="http://www.bluez.org" target="_new">bluez</a>) 
    um sogenannte "Paging-Request" an die gew&uuml;nschte Bluetooth Adresse (z.B. 01:B4:5E:AD:F6:D3) durchzuf&uuml;hren. Das Ger&auml;t muss dabei nicht sichtbar sein, allerdings st&auml;ndig aktiviert sein
    um Bluetooth-Anfragen zu beantworten.
    <br><br>
    
    Wenn ein Ger&auml;t anwesend ist, wird dies an FHEM &uuml;bermittelt zusammen mit dem Ger&auml;tenamen als Reading.<br><br>
    
    Der presenced ist zum Download verf&uuml;gbar als:<br><br>
    <ul>
    <li>Perl Skript: <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/contrib/PRESENCE/presenced" target="_new">presenced</a></li>
    <li>.deb Paket f&uuml;r Debian (architekturunabh&auml;ngig): <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/contrib/PRESENCE/deb/presenced-1.0.deb" target="_new">presenced-1.0.deb</a></li>
    <li>.deb Paket f&uuml;r Raspberry Pi (raspbian): <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/contrib/PRESENCE/deb/presenced-rpi-1.0.deb" target="_new">presenced-rpi-1.0.deb</a></li>
    </ul>
    </ul><br><br>
    <u>collectord</u><br><br>
    <ul>
    Der collectord ist ein Perl Netzwerk Dienst, welcher Verbindungen zu mehreren presenced-Instanzen verwaltet um eine koordinierte Suche nach ein oder mehreren Bluetooth-Ger&auml;ten &uuml;ber Netzwerk durchzuf&uuml;hren.<br><br>
    
    Er lauscht auf TCP port 5222 nach eingehenden Verbindungen von einem PRESENCE Modul.
<PRE>
Usage:
  collectord -c &lt;configfile&gt; [-d] [-p &lt;port&gt;] [-P &lt;pidfile&gt;]
  collectord [-h | --help]


Options:
  -c, --configfile &lt;configfile&gt;
     The config file which contains the room and timeout definitions
  -p, --port
     TCP Port which should be used (Default: 5222)
  -P, --pid-file
     PID file for storing the local process id (Default: /var/run/collectord.pid)
  -d, --daemon
     detach from terminal and run as background daemon
  -v, --verbose
     Print detailed log output
  -l, --logfile &lt;logfile&gt;
     log to the given logfile
  -h, --help
     Print detailed help screen
</PRE>  
    Bevor der collectord verwendet werden kann, ben&ouml;tigt er eine Konfigurationsdatei in welcher alle R&auml;ume mit einem presenced-Agenten eingetragen sind. Diese Datei sieht wie folgt aus:
    <br><br>
<PRE>
       	# Raum Definitionen
       	# =================
	#
	[Raum-Name]              # Name des Raumes
	address=192.168.0.10     # IP-Adresse oder Hostname
	port=5111                # TCP Port welcher benutzt werden soll (standardm&auml;&szlig;ig 5111)
	presence_timeout=120     # Pr&uuml;finterval in Sekunden f&uuml;r jede Abfrage eines Ger&auml;tes, welches anwesend ist
	absence_timeout=20       # Pr&uuml;finterval in Sekunden f&uuml;r jede Abfrage eines Ger&auml;tes, welches abwesend ist

	[Wohnzimmer]
	address=192.168.0.11
	port=5111	
	presence_timeout=180
	absence_timeout=20    
</PRE>
<br>
    Wenn ein Ger&auml;t in irgend einem Raum anwesend ist, wird dies an FHEM &uuml;bermittelt, zusammen mit dem Ger&auml;tenamen und dem Raum, in welchem das Ger&auml;t erkannt wurde.<br><br>
    
    Der collectord ist zum Download verf&uuml;gbar als:<br><br>
    
    <ul>
    <li>Perl Skript:  <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/contrib/PRESENCE/collectord" target="_new">collectord</a></li>
    <li>.deb Paket f&uuml;r Debian (architekturunabh&auml;ngig):  <a href="http://fhem.svn.sourceforge.net/viewvc/fhem/trunk/fhem/contrib/PRESENCE/deb/collectord-1.1.deb" target="_new">collectord-1.1.deb</a></li>
    </ul>
    </ul>

  </ul>
  <br>
  <a name="PRESENCEset"></a>
  <b>Set</b>
  <ul>
  
  <li><b>statusRequest</b> - (Nu f&uuml;r local-bluetooth, lan-ping and fritzbox) - Startet einen sofortigen Check.</li> 
  </ul>
  <br>

  <a name="PRESENCEget"></a>
  <b>Get</b>
  <ul>
  N/A
  </ul>
  <br>

  <a name="PRESENCEattr"></a>
  <b>Attributes</b><br><br>
  <ul>
    <li><a href="#loglevel">loglevel</a></li>
    <li><a href="#do_not_notify">do_not_notify</a></li>
    <li><a href="#readingFnAttributes">readingFnAttributes</a></li><br>
    <li><a>disable</a></li>
    Wenn dieses Attribut aktiviert ist, wird die Anwesenheitserkennung nicht mehr durchgef&uuml;hrt.<br><br>
    M&ouml;gliche Werte: 0 => Erkennung durchf&uuml;hren , 1 => Keine Erkennungen durchf&uuml;hren<br>
    Standardwert ist 0 (Erkennung durchf&uuml;hren)<br><br>
    <li><a>fritzbox_repeater</a></li> (Nur im Modus "fritzbox" anwendbar)
    Wenn die FritzBox Teil eines Netzwerkes ist, welches mit Repeatern arbeitet, dann muss dieses Attribut gesetzt sein um die Erkennung von Ger&auml;ten zu gew&auml;hrleisten,
    welche &uuml;ber einen Repeater erreichbar sind.
    <br><br>
    Dies gilt ebenso f&uuml;r Devices, welche keine Geschwindigkeitsangaben auf der FritzBox Seite (Heimnetz) anzeigen k&ouml;nnen.<br><br>
    <b>ACHTUNG: Die Erkennung der Abwesenheit eines Ger&auml;tes in einem Repeater-Netzwerk kann ca. 15 - 20 Minuten dauern!!</b>
    <br><br>
    M&ouml;gliche Werte: 0 => Standarderkennung verwenden, 1 => Erkennung f&uuml;r Repeaterger&auml;te verwenden<br>
    Standardwert ist 0 (Standarderkennung verwenden)

    <br><br>
    </ul>
  <br>
 
  <a name="PRESENCEevents"></a>
  <b>Generierte Events:</b><br><br>
  <ul>
    <u>Generelle Events:</u><br><br>
    <ul>
    <li><b>state</b>: $state (absent|present|disabled) - Der Anwesenheitsstatus eine Ger&auml;tes (absent = abwesend; present = anwesend) oder "disabled" wenn das disable-Attribut aktiviert ist</li>
    </ul><br><br>
    <u>Bluetooth-spezifische Events:</u><br><br>
    <ul>
    <li><b>device_name</b>: $name - Der Name des Bluetooth-Ger&auml;tes, wenn es anwesend (Status: present) ist</li>
    </ul><br><br>
    <u>presenced-/collectord-spezifische Events:</u><br><br>
    <ul>
    <li><b>command_accepted</b>: $command_accepted (yes|no) - Wurde das letzte Kommando an den presenced/collectord akzeptiert (yes = ja, no = nein)?</li>
    <li><b>room</b>: $room - Wenn das Modul mit einem collectord verbunden ist, zeigt dieses Event den Raum an, in welchem dieses Ger&auml;t erkannt wurde (Raumname entsprechend der Konfigurationsdatei des collectord)</li>
    </ul>
  </ul>
</ul>


<a name="THRESHOLD"></a>
<h3>THRESHOLD</h3>
<ul>
  Dieses Modul liest einen beliebigen Sensor aus, der Werte als Dezimalzahlen liefert und fÃ¼hrt beim Ãœberschreiten der Schwellen-Obergrenze (Sollwert) bzw. beim Unterschreiten der Schwellen-Untergrenze beliebige FHEM/Perl-Befehle aus. Damit lÃ¤sst sich leicht z. B. ein Software-Thermostat oder -Hygrostat realisieren.<br>
  <br>
  Nach der Definition eines Moduls vom Typ THRESHOLD erfolgt die eigentliche Steuerung Ã¼ber die Vorgabe eines Sollwertes.<br>
  <br>
  Das geschieht Ã¼ber:<br>
  <br>
  <code>set &lt;name&gt; desired &lt;value&gt;</code><br>
  <br>
  Das Modul beginnt mit der Steuerung erst dann, wenn ein Sollwert gesetzt wird.<br>
  <br>
  Optional kann das Schaltverhalten zusÃ¤tzlich durch einen weiteren Sensor oder eine Sensorgruppe,
  definiert Ã¼ber structure (z. B. Fensterkontakte), beeinflusst werden.<br>
  <br>
 </ul>
  <a name="THRESHOLDdefine"></a>
  <b>Define</b>
<ul>
  <br>
    <code>define &lt;name&gt; THRESHOLD &lt;sensor&gt;[:[&lt;reading&gt;][:[&lt;hysteresis&gt;][:&lt;init_desired_value&gt;]]] [AND|OR &lt;sensor2&gt;[:[&lt;reading2&gt;][:&lt;state&gt;]]] [&lt;actor&gt;][|[&lt;cmd1&gt;][|[&lt;cmd2&gt;][|[&lt;cmd_default_index&gt;][|[[&lt;state_cmd1&gt;][:&lt;state_cmd2&gt;]]]]]]</code><br>
  <br>
   	<br>
	<li>sensor<br>
	  ein in FHEM definierter Sensor
	</li>
	<li>reading<br>
	  Reading des Sensors, der einen Wert als Dezimalzahl beinhaltet<br>
	  Defaultwert: temperature
	</li>
	<li>hysteresis<br>
	Hysterese, daraus errechnet sich die Untergrenze = Sollwert - hysteresis<br>
	Defaultwert: 1 bei Temperaturen, 10 bei Feuchtigkeit
	</li>
	<li>init_desired_value<br>
	  Initial-Sollwert, wenn kein Wert vorgegeben wird, muss er mit "set desired value" gesetzt werden<br>
	  Defaultwert: kein
	</li>
	<br>
	<br>
	<li>AND|OR<br>
	VerknÃ¼pfung mit einem optionalen zweiten Sensor
	</li>
	<li>sensor2<br>
    ein definierter Sensor, dessen Status abgefragt wird
	</li>
	<li>reading2<br>
    Reading, der den Status des Sensors beinhaltet<br>
	Defaultwert: state
	</li>
	<li>state<br>
	Status des Sensors, der zu einer Aktion fÃ¼hrt<br>
	Defaultwert: open
	</li><br>
	<li>actor<br>
	ein in FHEM definierter Aktor
	</li>
	<li>cmd1<br>
	FHEM/Perl Befehl, der beim Ãœberschreiten des Sollwertes ausgefÃ¼hrt wird bzw.
	wenn status des sensor2 Ã¼bereinstimmt. @ ist ein Platzhalter fÃ¼r den angegebenen Aktor.
	<br>
	Defaultwert: set actor off, wenn Aktor angegeben ist
	</li>
	<li>cmd2<br>
	FHEM/Perl Befehl, der beim Unterschreiten der Untergrenze (Sollwert-Hysterese) ausgefÃ¼hrt wird bzw.
	wenn status des sensor2 nicht Ã¼bereinstimmt. @ ist ein Platzhalter fÃ¼r den angegebenen Aktor.
	<br>
	Defaultwert: set actor on, wenn Aktor angegeben ist
	</li>
	<li>cmd_default_index<br>
	FHEM/Perl Befehl, der nach dem Setzen des Sollwertes ausgefÃ¼hrt wird, bis Sollwert oder die Untergrenze erreicht wird.<br>
	0 - kein Befehl<br>
	1 - cmd1<br>
	2 - cmd2<br>
    Defaultwert: 2, wenn Aktor angegeben ist, sonst 0<br>
	</li>
	<br>
	<li>state_cmd1<br>
	Status, der angezeigt wird, wenn FHEM/Perl-Befehl cmd1 ausgefÃ¼hrt wurde. Wenn state_cmd1 gesetzt ist, werden andere Stati, wie active oder deactivated unterdrÃ¼ckt.
	<br>
	Defaultwert: keiner
	</li>
	<li>state_cmd2<br>
	Status, der angezeigt wird, wenn FHEM/Perl-Befehl cmd2 ausgefÃ¼hrt wurde. Wenn state_cmd2 gesetzt ist, werden andere Stati, wie active oder deactivated unterdrÃ¼ckt.
	<br>
	Defaultwert: keiner
	</li>
	<br>
	<br>
    Beispiele:<br>
    <br>
	Beispiel fÃ¼r Heizung:<br>
	<br>	
	<code>define thermostat THRESHOLD temp_sens heating</code><br>
	<br>
	<code>set thermostat desired 20</code><br>
	<br>
	Beschreibung:<br>
	<br>
	Es wird geheizt bis zum Maximalwert 20. Beim Unterschreiten des Untergrenze von 19 (20-1) wird die Heizung wieder eingeschaltet.<br>
	<br>
	Beispiel fÃ¼r Heizung mit Fensterkontakt:<br>
	<br>
	<code>define thermostat THRESHOLD temp_sens OR win_sens heating</code><br>
	<br>
	Beispiel fÃ¼r Heizung mit mehreren Fensterkontakten:<br>
	<br>
	<code>define W_ALL structure <TYPE-Deiner-Kontakte> W1 W2 W3 ....</code><br>
	<code>attr W_ALL clientstate_behavior relative</code><br>
	<code>attr W_ALL clientstate_priority closed open</code><br>
    <br>
	danach: <br>
    <br>
	<code>define thermostat THRESHOLD S1 OR W_ALL heating</code><br>
    <br>
	Einige weitere Bespiele fÃ¼r Entfeuchtung, Klimatisierung, BewÃ¤sserung:<br>
	<br>
	<code>define hygrostat THRESHOLD hym_sens:humidity dehydrator|set @ on|set @ off|1</code><br>
	<code>define hygrostat THRESHOLD hym_sens:humidity AND Sensor2:state:close dehydrator|set @ on|set @ off|1</code><br>
	<code>define thermostat THRESHOLD temp_sens:temperature:1 aircon|set @ on|set @ off|1</code><br>
	<code>define thermostat THRESHOLD temp_sens AND Sensor2:state:close aircon|set @ on|set @ off|1</code><br>
	<code>define hygrostat THRESHOLD hym_sens:humidity:20 watering|set @ off|set @ on|2</code><br>
	<br>
	Es kÃ¶nnen ebenso FHEM/Perl-Befehlsketten angegeben werden:<br>
	<br>
	Beispiele:<br>
	<br>
	<code>define thermostat THRESHOLD sensor |set Switch1 on;set Switch2 on|set Switch1 off;set Switch2 off|1</code><br>
    <code>define thermostat THRESHOLD sensor alarm|{Log 2,"Wert Ã¼berschritten"}|set @ on;set Switch2 on</code><br>
	<code>define thermostat THRESHOLD sensor ||{Log 2,"Wert unterschritten"}|</code><br>
    <br>
	Beispiele mit Statusanzeige:<br>
	<br>
	<code>define thermostat THRESHOLD sensor heating|set @ off|set @ on|2|aus:an</code><br>
	<br>
	Beispiel fÃ¼r reine Zustandanzeige (z. B. fÃ¼r Zustandsauswertung in anderen Modulen), wenn Temperatur von 30 Grad Ã¼ber- oder unterschritten wird:<br>
	<br>
	<code>define thermostat THRESHOLD sensor:temperature:0:30 ||||on:off</code><br>
	<br>
</ul>
	<a name="THRESHOLDset"></a>
  <b>Set </b>
  <ul>
      <li><code>set &lt;name&gt; desired &lt;value&gt;<br></code>
	  Setzt den Sollwert. Wenn kein Sollwert gesetzt ist, ist das Modul nicht aktiv.
	  </li>
	  <br>
	  <li><code>set &lt;name&gt; deactivated &lt;value&gt;<br></code>
	  Modul wird deaktiviert.
	  </li>
	  <br>
	  <li><code>set &lt;name&gt; active &lt;value&gt;<br></code>
	  Modul wird wieder aktiviert.
	  </li>
	  <br>
      <li><code>set &lt;name&gt; hysteresis &lt;value&gt;<br></code>
	  Setzt Hysterese-Wert.  
	  </li>
  </ul>
  <br>
  <a name="THRESHOLDget"></a>
  <b>Get </b>
  <ul>
      N/A
  </ul>
  <br>

  <a name="THRESHOLDattr"></a>
  <b>Attributes</b>
  <ul>
    <li><a href="#disable">disable</a></li>
    <li><a href="#loglevel">loglevel</a></li>
  </ul>
  <br>
	
<a name="VIERA"></a>
<h3>VIERA</h3>
<ul>  
  <a name="VIERAdefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; VIERA &lt;host&gt; [&lt;interval&gt;]</code>
    <br><br>
    Dieses Modul steuert einen Panasonic Fernseher &uuml;ber das Netzwerk. Es ist m&ouml;glich den Fernseher
    auszuschalten, die Lautst&auml;rke zu &auml;ndern oder zu muten bzw. unmuten. Dieses Modul kann zus&auml;tzlich
    die Fernbedienung simulieren. Somit k&ouml;nnen also die Schaltaktionen einer Fernbedienung simuliert werden.
    Getestet wurde das Modul mit einem Panasonic Plasma TV tx-p50vt30e
    <br><br>
    Beim definieren des Ger&auml;tes in FHEM wird ein interner Timer gestartet, welcher zyklisch alle 30 Sekunden
    den Status der Lautst&auml;rke und des Mute-Zustand ausliest. Das Intervall des Timer kann &uuml;ber den Parameter &lt;interval&gt;
    ge&auml;ndert werden. Wird kein Interval angegeben, liest das Modul alle 30 Sekunden die Werte aus und triggert ein notify.
    <br><br>
    Beispiel:
    <ul><code>
      define myTV1 VIERA 192.168.178.20<br><br>
      define myTV1 VIERA 192.168.178.20 60   #Mit einem Interval von 60 Sekunden
    </code></ul>
  </ul>
  
  <br>
  <a name="VIERAset"></a>
  <b>Set</b>
  <ul>
    <code>set &lt;name&gt; &lt;command&gt; [&lt;value&gt;]</code>
    <br><br>
    Zur Zeit sind die folgenden Befehle implementiert:
    <ul><code>
      off<br>
      mute [on|off]<br>
      volume &lt;Wert&gt;<br>
      remoteControl &lt;Befehl&gt;<br>
    </code></ul>
  </ul>
  <ul>
  <br>
  <u>Fernbedienung (Kann vielleicht nach Modell variieren)</u><br>
    Das Modul hat die folgenden Fernbedienbefehle implementiert:<br>
    <ul><code>
      3D 		=> 3D Knopf<br>
      BLUE 		=> Blau<br>
      CANCEL 		=> Cancel / Exit<br>
      CHG_INPUT 	=> AV<br>
      CH_DOWN 	=> Kanal runter<br>
      CH_UP 		=> Kanal hoch<br>
      D0 		=> Ziffer 0<br>
      D1 		=> Ziffer 1<br>
      D2 		=> Ziffer 2<br>
      D3 		=> Ziffer 3<br>
      D4 		=> Ziffer 4<br>
      D5 		=> Ziffer 5<br>
      D6 		=> Ziffer 6<br>
      D7 		=> Ziffer 7<br>
      D8 		=> Ziffer 8<br>
      D9 		=> Ziffer 9<br>
      DISP_MODE 	=> Anzeigemodus / Seitenverh&auml;ltnis<br>
      DOWN 		=> Navigieren runter<br>
      ENTER 		=> Navigieren enter<br>
      EPG 		=> Guide / EPG<br>
      FF 		=> Vorspulen<br>
      GREEN 		=> Gr&uuml;n<br>
      HOLD 		=> Bild einfrieren<br>
      INDEX 		=> TTV index<br>
      INFO 		=> Info<br>
      INTERNET 	=> VIERA connect<br>
      LEFT 		=> Navigieren links<br>
      MENU 		=> Men&uuml;<br>
      MUTE 		=> Mute<br>
      PAUSE 		=> Pause<br>
      PLAY 		=> Play<br>
      POWER 		=> Power off<br>
      P_NR 		=> P-NR (Ger&auml;uschreduzierung)<br>
      REC 		=> Aufnehmen<br>
      RED 		=> Rot<br>
      RETURN 		=> Enter<br>
      REW 		=> Zur&uuml;ckspulen<br>
      RIGHT 		=> Navigieren Rechts<br>
      R_TUNE 		=> Vermutlich die selbe Funktion wie INFO<br>
      SD_CARD 	=> SD-card<br>
      SKIP_NEXT 	=> Skip next<br>
      SKIP_PREV 	=> Skip previous<br>
      STOP 		=> Stop<br>
      STTL 		=> Untertitel<br>
      SUBMENU 	=> Option<br>
      TEXT 		=> TeleText<br>
      TV 		=> TV<br>
      UP 		=> Navigieren Hoch<br>
      VIERA_LINK 	=> VIERA link<br>
      VOLDOWN 	=> Lauter<br>
      VOLUP 		=> Leiser<br>
      VTOOLS 		=> VIERA tools<br>
      YELLOW 		=> Gelb<br>
    </code></ul>
    
    <br>
    Beispiel:<br>
    <ul><code>
      set &lt;name&gt; mute on<br>
      set &lt;name&gt; volume 20<br>
      set &lt;name&gt; remoteControl CH_DOWN<br>
    </code></ul> 

    <br>
    Anmerkung:<br>
    <ul>Aktivieren von Fernbedienung der Lautst&auml;rke per DLNA: Men&uuml; -> Setup -> Netzwerk-Setup -> Netzwerkverbindungsein. -> DLNA-Fernbed. Lautst. -> Ein</ul>
  </ul>
  
  <br>
  <a name="VIERAget"></a>
  <b>Get</b>
  <ul>
    <code>get &lt;name&gt; &lt;what&gt;</code>
    <br><br>
    Die folgenden Befehle sind definiert und geben den entsprechenden Wert zur&uuml;ck, der vom Fernseher zur&uuml;ckgegeben wurde.
  <ul><code>
    mute<br>
    volume<br>
  </code></ul>
  </ul>
  
  <br>
  <a name="VIERAattr"></a>
  <b>Attribute</b>
  <ul>N/A</ul>
  
  <br>
  <a name="VIERAevents"></a>
  <b>Generierte events:</b>
  <ul>
    <li>on</li>
    <li>off</li>
    <li>volume</li>
    <li>mute</li>
  </ul>
</ul>

<a name="YAMAHA_AVR"></a>
<h3>YAMAHA_AVR</h3>
<ul>

  <a name="YAMAHA_AVRdefine"></a>
  <b>Definition</b>
  <ul>
    <code>define &lt;name&gt; YAMAHA_AVR &lt;IP-Addresse&gt; [&lt;Zone&gt;] [&lt;Status_Interval&gt;]</code>
    <br><br>

    Dieses Modul steuert AV-Receiver des Herstellers Yamaha &uuml;ber die Netzwerkschnittstelle.
    Es bietet die M&ouml;glichkeit den Receiver an-/auszuschalten, den Eingangskanal zu w&auml;hlen,
    die Lautst&auml;rke zu &auml;ndern, den Receiver "Stumm" zu schalten, sowie den aktuellen Status abzufragen.
    <br><br>
    Bei der Definition eines YAMAHA_AVR-Moduls wird eine interne Routine in Gang gesetzt, welche regelm&auml;&szlig;ig 
    (einstellbar durch den optionalen Parameter <code>&lt;Status_Interval&gt;</code>; falls nicht gesetzt ist der Standardwert 30 Sekunden)
    den Status des Receivers abfragt und entsprechende Notify-/FileLog-Ger&auml;te triggert..<br><br>

    Beispiel:<br><br>
    <ul><code>
       define AV_Receiver YAMAHA_AVR 192.168.0.10<br><br>
       
       define AV_Receiver YAMAHA_AVR 192.168.0.10 mainzone 60 &nbsp;&nbsp;&nbsp; # Mit modifiziertem Status Interval (60 Sekunden)
    </code></ul><br><br>
  </ul>
  <b>Zonenauswahl</b><br>
  <ul>
    Wenn der zu steuernde Receiver mehrere Zonen besitzt (z.B. RX-V671, RX-V673,... sowie die AVANTAGE Modellreihe) 
    kann die zu steuernde Zone explizit angegeben werden. Die Modellreihen RX-V3xx und RX-V4xx als Beispiel
    haben nur eine Zone (Main Zone). Je nach Receiver-Modell stehen folgende Zonen zur Verf&uuml;gung, welche mit
    dem optionalen Parameter &lt;Zone&gt; angegeben werden k&ouml;nnen.<br><br>
    <ul>
    <li><b>mainzone</b> - Das ist die Hauptzone (Standard)</li>
    <li><b>zone2</b> - Die zweite Zone (Zone 2)</li>
    <li><b>zone3</b> - Die dritte Zone (Zone 3)</li>
    <li><b>zone4</b> - Die vierte Zone (Zone 4)</li>
    </ul>
    <br>
    Je nach Receiver-Modell stehen in den verschiedenen Zonen nicht immer alle Eing&auml;nge zur Verf&uuml;gung. 
    Dieses Modul bietet nur die tats&auml;chlich verf&uuml;gbaren Eing&auml;nge an.
    <br><br>
    Beispiel:<br><br>
     <ul><code>
        define AV_Receiver YAMAHA_AVR 192.168.0.10 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Wenn keine Zone angegeben ist, wird<br>
        attr AV_Receiver YAMAHA_AVR room Wohnzimmer &nbsp;&nbsp;&nbsp;&nbsp; # standardm&auml;&szlig;ig "mainzone" verwendet<br>
        <br>
        # Definition der zweiten Zone<br>
        define AV_Receiver_Zone2 YAMAHA_AVR 192.168.0.10 zone2<br>
        attr AV_Receiver_Zone2 room Schlafzimmer<br>
     </code></ul><br><br>
     F&uuml;r jede Zone muss eine eigene YAMAHA_AVR Definition erzeugt werden, welche dann unterschiedlichen R&auml;umen zugeordnet werden kann.
     Jede Zone kann unabh&auml;ngig von allen anderen Zonen (inkl. der Main Zone) gesteuert werden.
     <br><br>
  </ul>
  
  <a name="YAMAHA_AVRset"></a>
  <b>Set-Kommandos </b>
  <ul>
    <code>set &lt;Name&gt; &lt;Kommando&gt; [&lt;Parameter&gt;]</code>
    <br><br>
    Aktuell werden folgende Kommandos unterst&uuml;tzt. Die verf&uuml;gbaren Eing&auml;nge k&ouml;nnen je nach Receiver-Modell variieren.
    Die folgenden Eing&auml;nge stehen beispielhaft an einem RX-V473 Receiver zur Verf&uuml;gung.
    Aktuell stehen folgende Kommandos zur Verf&uuml;gung.
<br><br>
<ul><code>
on<br>
off<br>
input hdmi1<br>
input hdmi2<br>
input hdmi3<br>
input hdmi4<br>
input av1<br>
input av2<br>
input av3<br>
input av3<br>
input av4<br>
input av5<br>
input av6<br>
input usb<br>
input airplay<br>
input tuner<br>
input v-aux<br>
input audio<br>
input server<br>
volume -80..16	(Lautst&auml;rke zwischen -80 und +16 dB)<br>
mute on<br>
mute off</code></ul><br><br>

</ul>
<u>Fernbedienung (je nach Modell nicht in allen Zonen verf&uuml;gbar)</u><br><br>
<ul>
    In vielen Receiver-Modellen existieren Eing&auml;nge, welche nach der Auswahl keinen Sound ausgeben. Diese Eing&auml;nge
    bed&uuml;rfen manueller Interaktion mit der Fernbedienung um die Wiedergabe zu starten (z.B. Internet Radio, Netzwerk Streaming, usw.).<br><br>
    F&uuml;r diesen Fall gibt es folgende Befehle:<br><br>

    <u>Cursor Steuerung:</u><br><br>
    <ul><code>
    remoteControl up<br>
    remoteControl down<br>
    remoteControl left<br>
    remoteControl right<br>
    remoteControl enter<br>
    remoteControl return<br>
    </code></ul><br><br>

    <u>Men&uuml; Auswahl:</u><br><br>
    <ul><code>
    remoteControl setup<br>
    remoteControl option<br>
    remoteControl display<br>
    </code></ul><br><br>

    Die Befehlsnamen entsprechen den Tasten auf der Fernbedienung.<br><br>
    
    Ein typisches Beispiel ist das automatische Einschalten und Abspielen eines Internet Radio Sender:<br><br>
    <ul><code>
    # Die Ger&auml;tedefinition<br><br>
    define AV_receiver YAMAHA_AVR 192.168.0.3
    </code></ul><br><br>
    Und in der 99_MyUtils.pm die folgende Funktion:<br><br>
    <ul><code>
    sub startNetRadio<br>
    {<br>
      &nbsp;&nbsp;fhem "set AV_Receiver on";<br>
      &nbsp;&nbsp;sleep 5;<br>
      &nbsp;&nbsp;fhem "set AV_Receiver input netradio";<br>
      &nbsp;&nbsp;sleep 4;<br>
      &nbsp;&nbsp;fhem "set AV_Receiver remoteControl enter";<br>
      &nbsp;&nbsp;sleep 2;<br>
      &nbsp;&nbsp;fhem "set AV_Receiver remoteControl enter";<br>
    }
    </code></ul><br><br>
    Die Kommandos der Fernbedienung m&uuml;ssen mit einem sleep pausiert werden, da der Receiver in der Zwischenzeit arbeitet und keine Befehle annimmt..<br><br>
    
    Nun kann man diese Funktion in der FHEM Kommandozeile oder in notify-Definitionen wie folgt verwenden.:<br><br>
    <ul><code>
    {startNetRadio()}
    </code></ul><br><br>
  </ul>

  <a name="YAMAHA_AVRget"></a>
  <b>Get-Kommandos</b>
  <ul>
    <code>get &lt;Name&gt; &lt;Parameter&gt;</code>
    <br><br>
    Aktuell stehen folgende Parameter zur Verf&uuml;gung welche den aktuellen Status des Receivers zur&uuml;ck geben.<br><br>
     <ul>
     <li><code>power</code> - Betriebszustand des Receiveres/Zone (on oder off)</li>
     <li><code>input</code> - Gew&auml;hlter Eingang</li>
     <li><code>mute</code> - Lautlos an oder aus (on oder off)</li>
     <li><code>volume_level</code> - Lautst&auml;rkepegel in dB</li>
     </ul>
  </ul>
  <br>
  <a name="YAMAHA_AVRattr"></a>
  <b>Attribute</b>
  <ul>
  
    <li><a href="#loglevel">loglevel</a></li>
    <li><a href="#do_not_notify">do_not_notify</a></li>
    <li><a href="#readingFnAttributes">readingFnAttributes</a></li><br>
    <li><a name="volume-smooth-change">volume-smooth-change</a></li>
	Optionales Attribut, welches einen weichen Lautst&auml;rke&uuml;bergang aktiviert..
	<br><br>
	M&ouml;gliche Werte: 0 => deaktiviert , 1 => aktiviert<br><br>
    <li><a name="volume-smooth-steps">volume-smooth-steps</a></li>
	Optionales Attribut, welches angibt, wieviele Schritte zur weichen Lautst&auml;rkeanpassung
	 durchgef&uuml;hrt werden sollen. Standartwert ist 5 Anpassungschritte<br><br>
    <li><a name="volume-smooth-time">volume-smooth-time</a></li>
	Optionales Attrribut welches das Zeitfenster in Sekunden f&uuml;r die Anpassung angibt.
       Als Beispiel bedeutet der Wert 2 dass innerhalb von 2 Sekunden die Lautst&auml;rkeanpassung durchgef&uuml;hrt werden soll.
       Der Wert 0 bedeutet, dass die Anpassung so schnell wie m&ouml;glich geschehen soll. Der Standardwert ist 0.
  </ul>
<br>
  <b>Hinweise des Autors</b>
  <ul>
    Dieses Modul ist nur nutzbar, wenn die Option "Network Standby" am Receiver aktiviert ist.<br><br>
    Technisch gesehen sind viel mehr Kommandos und R&uuml;ckgabewerte m&ouml;glich, aber dies sind meiner
    Meinung nach die wichtigsten innerhalb von FHEM.
  </ul>
  <br>
</ul>
<a name="fheminfo"></a>
<h3>fheminfo</h3>
<ul>
  <code>fheminfo [send]</code>
  <br>
  <br>
    fheminfo zeigt Informationen &uuml;ber das System und FHEM Definitionen an.
  <br>
  <br>
    Der optionale Parameter <code>send</code> &uuml;bertr&auml;gt die Informationen
    an einen zentralen Server um die Entwicklung von FHEM zu unterst&uuml;tzen.
    Die &uuml;bermittelten Daten werden grafisch aufbereitet und k&ouml;nnen auf
    <a href="http://fhem.de/stats/statistics.cgi">http://fhem.de/stats/statistics.cgi</a>
    abgerufen werden. Anhand der IP-Adresse wird der ungef&auml;hre Standort mit
    einer Genauigkeit von ca. 40-80 km ermittelt. Die IP-Adresse wird nicht gespeichert.
  <br>
  <br>
    Eigenschaften:<br>
    <ul>
      <li>Eingesetztes Betriebssystem</li>
      <li>Hardware Architektur</li>
      <li>Installierte Perl Version</li>
      <li>Installierte FHEM release und "branch"</li>
      <li>Definierte Module (nur offizielle FHEM Module werden ermittelt)</li>
      <li>Definierte Modelle je Modul</li>
    </ul>
  <br>
    Beispiel:
    <pre>
      fhem&gt; fheminfo
      Fhem info:
        Release  : 5.3
        Branch   : DEVELOPMENT
        OS       : linux
        Arch     : i686-linux-gnu-thread-multi-64int
        Perl     : v5.14.2
        uniqueID : 87c5cca38dc75a4f388ef87bdcbfbf6f

      Defined modules:
        ACU        : 1
        CUL        : 1
        CUL_FHTTK  : 12
        CUL_HM     : 66
        CUL_WS     : 3
        FHEM2FHEM  : 1
        FHEMWEB    : 3
        FHT        : 9
      [...]
        at         : 4
        autocreate : 1
        dummy      : 23
        notify     : 54
        structure  : 3
        telnet     : 2
        watchdog   : 9
        weblink    : 17
      
      Defined models per module:
        CUL        : CUN
        CUL_FHTTK  : FHT80TF
        CUL_HM     : HM-CC-TC,HM-CC-VD,HM-LC-DIM1T-CV,HM-LC-DIM1T-FM,HM-LC-SW1-PL,[...]
        CUL_WS     : S555TH
        FHT        : fht80b
        FS20       : fs20pira,fs20s16,fs20s4a,fs20sd,fs20st
        HMS        : hms100-mg,hms100-tf,hms100-wd
        KS300      : ks300
        OWSWITCH   : DS2413
    </pre>
  <br>

  <a name="fheminfoattr"></a>
  <b>Attribute</b>
  <br>
  <br>
    Die folgenden Attribute werden nur in Verbindung mit dem Parameter
    <code>send</code> genutzt. Sie werden Ã¼ber <code>attr global</code> gesetzt.
  <br>
  <br>
  <ul>
    <li>uniqueID<br>
      Eine zuf&auml;llig generierte ID (16 Paare aus Hash Werten), z.B.
      <code>87c5cca38dc75a4f388ef87bdcbfbf6f</code> welche den &uuml;bertragenen Daten
      zur Vermeidung von doppelten Eintr&auml;ge zugewiesen wird.
      <br>
      Die <code>uniqueID</code> wird automatisch in einer Datei namens <code>FHemUtils/uniqueID</code>
      im FHEM Modulverzeichnis gespeichert.
      <br>
      <strong>WICHTIGER HINWEIS:</strong>
      <br>
      Jede Installation von FHEM sollte seine eigene eindeutige ID haben.
      <br>
      Bitte diese Datei nicht ver&auml;ndern, verschieben oder l&ouml;schen! Diese Datei sollte
      immer gesichert (wird normalerweise automatisch durch den <code>update</code> Befehl
      erledigt) und bei einer Neuinstallation auf der gleichen Hardware im gleichen Verzeichnis
      (<code>FhemtUtils</code> im FHEM Modulverzeichnis) wieder hergestellt werden. Dies verhindert
      doppelte Eintr&auml;ge identischer Installationen auf der gleichen Hardware in der Statistik.
      <br>
      Anderfalls, sollten bitte f&uuml;r jede Installation auf unterschiedlicher Hardware eigene
      IDs genutzt werden, z.B. eine zuf&auml;llig erzeugte ID f&uuml;r FRITZ!Box, eine weitere f&uuml;r
      den ersten Raspberry Pi, eine weitere f&uuml;r einen zweiten Raspberry Pi, usw.
      <br>
      Vielen Dank f&uuml;r die Unterst&uuml;tzung!
    </li>
    <br>
    <li>sendStatistics<br>
      Dieses Attribut wird in Verbindung mit dem <code>update</code> Befehl verwendet.
      <br>
      <code>onUpdate</code>: &Uuml;bertr&auml;gt die Daten bei jedem Update (empfohlene Einstellung).
      <br>
      <code>manually</code>: Manuelle &Uuml;bertr&auml;gung der Daten &uuml;ber <code>fheminfo send</code>.
      <br>
      <code>never</code>: Verhindert die &Uuml;bertr&auml;gung der Daten.
    </li>
    <br>
  </ul>
</ul>

<a name="structure"></a>
<h3>structure</h3>
<ul>
  <br>
  <a name="structuredefine"></a>
  <b>Define</b>
  <ul>
    <code>define &lt;name&gt; structure &lt;struct_type&gt; &lt;dev1&gt; &lt;dev2&gt; ...</code>
    <br><br>
    Mit dem Device "Structure" werden Strukturen/Zusammenstellungen von anderen
    Devices erstellt um sie zu Gruppen zusammenzufassen. (Beispiel: im Haus alles ausschalten)
    <br>
    Die Liste der Devices die einer Struktur zugeordnet sind kann duch das Kommando
    <code>addstruct / delstruct</code> im laufenden Betrieb ver&auml;ndert werden. Es k&ouml;nnen
    sowohl einzelne Devices als auch Gruppen von Devices (TYPE=FS20) zugef&uuml;gt werden.
    Jedes zugef&uuml;gt Device erh&auml;lt zwei neue Attribute &lt;struct_type&gt;=&lt;name&gt;
    sowie &lt;struct_type&gt;_map wenn es zu einer Struktur zugef&uuml;gt wurde. Diese
    Attribute werden wieder automatisch entfernt, sobald das Device von der Struktur
    entfernt wird.<br>
    Eine Struktur kann ebenfalls zu einer anderen Struktur zugef&uuml;gt werden. Somit
    k&ouml;nnen z b. kaskadierende Strukturen erstellt werden. (Z.b. KG,EG,OG, Haus)

    Beispiel:<br>
    <ul>
      <li>define Kueche structure room lampe1 lampe2</li>
      <li>addstruct Kueche TYPE=FS20</li>
      <li>delstruct Kueche lampe1</li>
      <li>define house structure building kitchen living</li>
      <li>set house off</li>
    </ul>
    <br> 
  </ul>

  <br>
  <a name="structureset"></a>
  <b>Set</b>
  <ul>
    Jedes set Kommando wird an alle Devices dieser Struktur weitergegeben.<br>
    Aussnahme: das Attribut structexclude ist in einem Device definiert und
    dessen Attributwert matched als Regexp zum Namen der aktuellen Struktur.
  </ul>
  <br>
  <a name="structureget"></a>
  <b>Get</b>
  <ul>
    Get wird im Structur-Device nicht unterst&uuml;tzt.
  </ul>
  <br>
  <a name="structureattr"></a>
  <b>Attribute</b>
  <ul>
    <a name="clientstate_behavior"></a>
    <li>clientstate_behavior<br>
      Der Status einer Struktur h&auml;ngt von den Stati der zugef&uuml;gten Devices ab.
      Dabei wird das propagieren der Stati der Devices in zwei Gruppen klassifiziert
      und mittels diesem Attribut definiert:
      <ul>
      <li>absolute</li>
      <ul>
        Die Struktur wird erst dann den Status der zugef&uuml;gten Devices annehmen,
        wenn alle Devices einen identischen Status vorweisen. Bei unterschiedlichen
        Devictypen kann dies per Attribut &lt;struct_type&gt;_map pro Device
        beinflusst werden. Andernfalls hat die Struktur den Status "undefined".
      </ul>
      <li>relative</li>
      <ul>
        S.u. clientstate_priority.
      </ul>
      <li>last</li>
      <ul>
        Die Struktur &uuml;bernimmt den Status des zuletzt ge&auml;nderten Ger&auml;tes.
      </ul>
    </li>
  </ul>

    <a name="clientstate_priority"></a>
    <li>clientstate_priority<br>
      Wird die Struktur auf ein relatives Verhalten eingestellt, so wird die
      Priorit&auml;t der Devicestati &uuml;ber das Attribut <code>clientstate_priority</code>
      beinflusst. Die Priorit&auml;ten sind in absteigender Reihenfolge anzugeben.
      Dabei k&ouml;nnen Gruppen mit identischer Priorit&auml;t angegeben werden, um zb.
      unterschiedliche Devicetypen zusammenfassen zu k&ouml;nnen. Jede Gruppe wird durch
      Leerzeichen, jeder Eintrag pro Gruppe durch Pipe getrennt. Der Status der
      Struktur ist der erste Eintrag in der entsprechenden Gruppe.
    </li>
    <br>Beispiel:<br>
    <ul>
      <li>attr kueche clientstate_behavior relative</li>
      <li>attr kueche clientstate_priority An|On|on Aus|Off|off</li>
      <li>attr haus clientstate_priority Any_On|An All_Off|Aus</li>
    </ul>
    In diesem Beipiel nimmt die Struktur <code>kueche</code>entweder den Status
    <code>An</code> oder <code>Aus</code> an. Die Struktur <code>haus</code> nimmt
    entweder den Status <code>Any_on</code> oder <code>All_off</code> an. Sobald ein
    Device der Struktur <code>haus</code> den Status <code>An</code> hat nimmt die
    Struktur den Status <code>Any_On</code> an. Um dagegen den Status
    <code>All_off</code> anzunehmen, m&uuml;ssen alle Devices dieser Struktur auf
    <code>off</code> stehen.
    <br>
    Um mehrere Devices unterschiedlicher Typen gruppieren zu k&ouml;nnen ist ein
    Status-Mapping auf jedem einzelnen Device mittels Attribut &lt;struct_type&gt;_map
    m&ouml;glich.
    Im folgenden Beispiel nimmt das Reading "A" den Status "offen" oder "geschlossen"
    an, und des Reading "state" von "lampe1" den Status "on" oder "off".
    Die Struktur "kueche" reagiert nun auf "An" bzw "on" (Prio 1) bzw.
    auf "OK", "Aus", "off". Der Status den diese Struktur schlussendlich annehmen kann
    ist entweder "An" oder "OK".<br>
    Der Status des Devices lampe1 wird umdefiniert von "on" nach "An" bzw "off" nach "Aus".
    Das Device "tuer", welches vom Type "OWSWITCH" ist, bringt ausschlie&szlig;lich
    das Reading A in die Struktur ein welches von "open" nach "on" sowie "clesed"
    nach "Aus" umdefiniert wird.<br>
    Die Struktur <code>kueche</code> wird folglich nur dann "An" ausgeben,
    wenn a) das Device lampe1 den Status "on" und(!) b) das Device tuer den Status
    open im Reading A aufweist. Die Struktur wird sofort auf den Status "OK" wechseln,
    sobald eines der beiden Devices den Status wechselt.<br>
    Ist im Attribut &lt;struct_type&gt;_map nur das Reading angegeben, so wird dessen
    Status unmodifiziert an die Struktur weitergegeben.<br>
    Ist das Attribut &lt;struct_type&gt;_map nicht definiert, so wird das
    Reading <code>state</code> an die Struktur weitergegeben.
    <br>Beispiel:<br>
    <ul>
      <li>define tuer OWSWITCH &lt;ROMID&gt</li>
      <li>define lampe1 dummy</li>
      <li>attr lampe1 cmdlist on off</li>
      <li>define kueche structure struct_kitchen lamp1 door</li>
      <li>attr kueche clientstate_priority An|on OK|Aus|off</li>
      <li>attr lampe1 struct_kitchen_map on:An off:Aus</li>
      <li>attr tuer struct_kitchen_map A:open:on A:closed:off</li>
      <li>attr tuer2 struct_kitchen_map A</li>
    </ul>

    <li>structexclude<br>
      Bei gesetztem Attribut wird set, attr/deleteattr ignoriert.  Dies
      trifft ebenfalls auf die Weitergabe des Devicestatus an die Struktur zu.
      Fuer set und fuer die Status-Weitergabe muss der Wert den Strukturnamen
      matchen, bei einem Attribut-Befehl die Kombination
      Strukturname:Attributname.
      Beispiel:
        <ul>
          <code>
          define kitchen structure room lamp1 lamp2<br>
          attr lamp1 structexclude kitchen<br>
          attr lamp1 structexclude kitchen:stateFormat<br>
          </code>
        </ul>
    </li>
    <li><a href="#readingFnAttributes">readingFnAttributes</a></li>
  </ul>
  <br>
</ul>

<a name="update"></a>
<h3>update</h3>
<ul>
  <strong>FHEM aktualisieren / auf Aktualisierungen pr&uuml;fen:</strong>
  <br>
  <code>update [development|stable] [&lt;Date|Paket&gt;] [force]</code><br>
  <code>update [development|stable] check</code><br>
  <code>update housekeeping</code><br><br>
  <strong>Aktualisierung eines Fremdpaketes / Fremdpaket auf Aktualisierungen pr&uuml;fen:</strong>
  <br>
  <code>update thirdparty &lt;url&gt; &lt;Paketname&gt; [force]</code><br>
  <code>update thirdparty &lt;url&gt; &lt;Paketname&gt; check</code><br>
  <br>
    Die installierte FHEM Distribution und deren Erweiterungen (z.B. das Web-Interface
    PGM2 (FHEMWEB)) werden mit diesem Befehl &uuml;ber ein Online Repository aktualisiert.
    Enth&auml;lt das Repository neuere Dateien oder Dateiversionen als die lokale
    Installation, werden die aktualisierten Dateien aus dem Repository installiert.
    <br>
    <br>
    Die Update-Funktion unterst&uuml;tzt erweiterte Distributions Informationen sowie
    die Steuerung &uuml;ber spezielle Befehle zum aktualisieren, verschieben oder
    umbenennen von bestehenden Dateien. Neue Verzeichnisstrukturen k&ouml;nnen ebenfalls
    &uuml;ber die Aktualisierung erzeugt werden. Die Aktualisierung erfolgt exklusiv
    im Verzeichnispfad der &uuml;ber das globale Attribut "modpath" gesetzt wurde
    (Ausnahme: fhem.pl). Der Anwender kann die Aktualisierung wahlweise
    aus dem stabilen (stable) oder Entwicklungs-Zweig (development) vornehmen lassen.
    <strong>Ein Aktualisierung erfolgt zur Zeit ausschliesslich nur &uuml;ber den
    Entwicklungs-Zweig (development).</strong>
    <br>
    <br>
    Weiterhin unterst&uuml;tzt der update Befehl die manuelle Installation von Paketen
    die Bestandteil der FHEM Distribution sind. Aktuell werden noch keine erweiterten FHEM
    Pakete bereitgestellt.
    <br>
    <br>
    Der update Befehl unterst&uuml;tzt auch die Installation von Paketen die kein Bestandteil
    der FHEM Distribution sind. Diese Pakete k&ouml;nnen z.B. von Entwicklern angebotene
    Module oder Benutzerinterfaces beinhalten.
    <br>
    <br>
    <i>Hinweis f&uuml;r Anbieter von zus&auml;tzlichen Paketen:</i>
    <br>
    <i>Weiterf&uuml;hrende Informationen zur Bereitstellung von Paketen sind der Datei
    'docs/LIESMICH.update-thirdparty' zu entnehmen.</i>
    <br>
    <br>
    Beispiele:
    <blockquote>Auf neue Aktualisierungen pr&uuml;fen:<code><pre>
    fhem&gt; update check
    </pre></code></blockquote>

    <blockquote>FHEM aktualisieren:<code><pre>
    fhem&gt; update
    </pre></code></blockquote>

    <blockquote>FHEM Aktualisierung erzwingen (alle Dateien werden aktualisiert!):<code><pre>
    fhem&gt; update force
    </pre></code></blockquote>

    <blockquote>Eine einzelne Datei aktualisieren:<code><pre>
    fhem&gt; update 98_foobar.pm
    </pre></code></blockquote>

    <blockquote>Nach einem Dateinamen suchen:<code><pre>
    fhem&gt; update backup
    'backup' not found. Did you mean:
    ==&gt; 98_backup.pm
    nothing to do...
    </pre></code></blockquote>

    <blockquote>Aktualisierung oder Installation eines Fremdpaketes:<code><pre>
    fhem&gt; update thirdparty http://domain.tld/path paketname
    </pre></code></blockquote>

    <blockquote>Fremdpaket auf neue Aktualisierungen pr&uuml;fen:<code><pre>
    fhem&gt; update thirdparty http://domain.tld/path paketname check
    </pre></code></blockquote>

    <a name="updateattr"></a>
    <b>Attribute</b>
    <ul>
      <li><a href="#backup_before_update">backup_before_update</a></li><br>

      <li><a href="#exclude_from_update">exclude_from_update</a></li><br>

      <li><a href="#updatebranch">updatebranch</a></li><br>
  </ul>
</ul>

<a name="perl"></a>
<h3>Perl specials</h3>
  Wenn Sie einige Aufgaben automatisieren wollen, dann sollten Sie die Befehle <a href="#at">at</a> oder <a href="#notify">notify</a> 
nutzen. F&uuml;r komplexere Aufgaben sollten Sie lieber ein SHELLl-Skiipt oder einen 
PERL "oneliner" als das at/notify
  argument anwenden. Dieser Abschnitt gibt Ihnen einige Tipps zur Anwendung der 
PERL-oneliner.<br><br>

  <li>Um PERL-&quot;oneliner&quot; zu testen, geben Sie diese am &quot;telnet&quot; Prompt (oder in 
  der FHEMWEB Text-Eingabezeile) eingeschlossen von geschweiften Klammern {} in 
  einer Zeile ein.  Die letzte Beispielzeile schreibt nur etwas in die Logdatei, 
  w&auml;hrend das Ergebnis der anderen Zeilen direkt auf der Webseite sichtbar ist.<ul>
      Beispiele:<p>{ "Hello" }<br>
      { 1+3*4 }<br>
      { `ls /etc` }<br>
      { Log 1, "Hello" }<br>
      </p>
    </ul>
    <br>

  </li><li>
    PERL Ausdr&uuml;cke werden durch ein Semikolon (;) getrennt. In FHEM &quot;oneliners&quot; 
    m&uuml;ssen sie durch ein weiteres Semikolon (;;) &quot;escaped&quot; (maskiert) werden<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Beispiel:<ul>
      { my $a = 1+1;; Log 1, "Hello $a" }
    </ul>
    <br>

  </li><li>Um FHEM-Kommandos in den PERL-Ausdr&uuml;cken zu verwenden, benutzen Sie 
bitte die Funktion fhem(),
    mit einem Textargument. Dieser Text wird als FHEM-Kommando interpretiert.<br>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Beispiel<ul>
      { fhem "set light on" }<br>
      define n1 notify piri:on { fhem "set light on" }
      <p>&nbsp;</p>
    </ul>
    Bemerkung: Wenn diese Funktion einen wert zur&uuml;ck liefert, wird dieser in der 
allgemeinen Logdatei gespeichert.. Benutzen sie &quot;1&quot; als zweites Argument um 
dieses speichern zu verhindern. Sinnvoll ist dieses Argument bei der Abfrage von 
Werten mittels "get...".
    <br>
    <br>

  </li><li>Notify kann auch dazu verwendet werden, um Macros manuell auszuf&uuml;hren. 
Verwenden Sie den <a href="#trigger">trigger</a>-Befehl um das Makro zu starten:<br>
    <ul>
      define MyMacro notify MyMacro { Log 1, "Hello"}<br>
      trigger MyMacro<br>
      define MacroWithArg notify MyMacro { Log 1, "Hello %"}<br>
      trigger MyMacro MyArg<br>
    </ul>
    <br>


  </li><li>Um die Verwendung von Datum und Zeitangaben zu vereinfachen, wurden 
die Variablen $sec, $min, $hour,
    $mday, $month, $year, $wday, $yday, $isdst f&uuml;r die Verwendung in PERL-&quot;oneliners&quot; 
eingef&uuml;hrt (s. unter perldoc -f localtime). Ausnahmen: $month hat einen 
Wertebereich von 1 to 12 und $year ist korrigiert von 1900.<br>
    Die weitere Variabe $we hat den Wert 1 wenn der abgefragte Tag auf ein 
Wochenende f&auml;llt (Z.B. $wday == 0 [Sonntag] oder
    $wday == 6 [Samstag]), und 0 f&uuml;r die anderen Wochentage. Wenn man das 
allgemeine <a href="#holiday2we">holida2we</a> Attribut setzt, dann ist $we 
ebenfalls 1 bei Urlaubstagen.<br>
    <ul>
      define n2 notify piri:on { if($hour &gt; 18 || $hour &lt; 5) {
        fhem "set light on" } }<br>
      define roll_en *07:45:00 { fhem "trigger SwitchAllRoll on" if(!$we) }<br>
      define roll_en *08:30:00 { fhem "trigger SwitchAllRoll on" if($we) }<br>

    </ul>
    <br>

  </li><li>
    Die follgendenHilsfunktionen sind in der Datei 99_Util.pm definiert (wird 
    wie jede mit 99 beginnende Datei automatisch geladen):
    <ul>
      <li>min(a,b), max(a,b)</li>
      <li>time_str2num("YYYY-MM-DD HH:MM:SS") gibt einen numerischen Wert zur&uuml;ck,
          der die Berechnung von Zeitdifferenzen vereinfacht</li>
      <li>abstime2rel("HH:MM:SS") wandelt absolute in relative Zeitangaben um
          </li>
    </ul>
    </li>

  <li>
    Um auf die Ger&auml;testati/Attribute zuzugreifen benutzen Sie bitte die 
    folgenden Funktionen:
    <br>
    <ul>
      <li>Value(&lt;devicename&gt;)<br>
        gibt den Status eines Ger&auml;tes zur&uuml;ck (entsprechend dem Ausdruck in 
      Klammern, den Sie beim List-Befehl sehen).
        <br><br>
      </li><li>OldValue(&lt;devicename&gt;)
      </li><li>OldTimestamp(&lt;devicename&gt;)<br>
        gibt den vorherigen Wert/Zeitstempel des Ger&auml;tes zur&uuml;ck.
        <br><br>
      </li><li>
        ReadingsVal(&lt;devicename&gt;,&lt;reading&gt;,&lt;defaultvalue&gt;)<br>
        Gibt den Inhalt der &quot;readings&quot; zur&uuml;ck (den Inhalt der in dem &quot;Readings&quot;-Abschnitt 
        von "list device" angezeigt wird)
        <br><br>
      </li><li>
        AttrVal(&lt;devicename&gt;,&lt;attribute&gt;,&lt;defaultvalue&gt;)<br>
        Gibt die gesetzteb Attribute des Ger&auml;tes zur&uuml;ck
        <br><br>
        { Value("wz") }<br>
        { OldValue("wz") }<br>
        { time_str2num(OldTimestamp("wz")) }<br>
        { ReadingsVal("wz", "measured-temp", "20")+0 }<br>
        { ReadingsTimestamp("wz", "measured-temp", 0)}<br>
        { AttrVal("wz", "room", "none") }<br>
      </li></ul>


  </li><li>
    Wenn Sie das 99_SUNRISE_EL.pm Modul benutzen, haben Sie zugriff auf folgende 
    Funktionen: <br>
    <ul>
    sunset($offset, $min, $max)<br>
    sunrise($offset, $min, $max)<br>
    isday()<br>
    </ul>
    Der Wert von &quot;offset&quot; wird in Sekunden angegeben und das Format f&uuml;r min/max ist "HH:MM" oderr "HH:MM:SS".
    isday gibt 1 zur&uuml;ck, wenn die Sonne sichtbar ist und ansonsten den Wert 0.
    </li>

  <br>
  <br>

<a name="gnuplot-syntax"></a>
<h3>gnuplot file syntax</h3>

    Die .gplot Dateien werden ebenso von den <a href="#FHEMWEB">FHEMWEB</a>/SVG 
    Modulen falls das <a href="#plotmode">plotmode</a>-Attribut auf SVG gesetzt 
    ist. In diesem Fall wird nur eine geringere Anzahl der .gnuplot Attribute 
    benutzt, und einige Linien haben eine besondere Bedeutung: Die Unterschiede 
    werden in diesem Kapitel erkl&auml;rt. Lesen Sie bitte auch <a href="http://fhemwiki.de/wiki/Creating_Plots">
    diesen</a> fhemwiki Eintrag zur Erstellung von Logdateien.<br>
    Im folgenden ist eine minimale .gplot Definition (g&uuml;ltig nur bei Plotmode SVG):<br>
<pre>  set terminal size &lt;SIZE&gt;
  #FileLog 4:::
  plot title 'Temperature' with lines
</pre>
    Die .gnuplot Datei besteht aus 3 Teilen:
<ul>
  <li>set Befehle<br>
    Folgende &quot;sets&quot; werden erkannt:
    <ul>
    <li>terminal, nur die Gr&ouml;ÃŸenparameter.<br>
        Dieser ist in der Regel auf &lt;SIZE&gt; gesetzt, welcher ersetzt wird 
    durch das <a href="#plotsize">plotsize</a> Attribut von FHEMWEB oder einer 
    Weblink-Instanz.</li>

    <li>title<br>
        Normalerweise gesetzt auf &lt;TL&gt; welcher durch das Weblink <a href="#title">title</a>-Attribut, oder 
    durch &lt;Lx&gt;, welches wiederum vom Weblink <a href="#label">label</a> 
    Attribut ersetzt wird.</li>

    <li>ylabel,y2label<br>
        Linke und rechte vertikale Achsenbeschriftungen. Are also subject to label
        replacement.</li>

    <li>yrange,y2range<br>
        Legen den Wertebereich der linken und rechten y-Achse fest.&nbsp; 
    Beispiele:<br>
        <ul>
          set yrange [-0.1:1.1]<br>
          set y2range [0:]<br>
        </ul>
        </li>
    <li>ytics,y2tics<br>
        Beschriftung f&uuml;r die Werte der rechten/linken y-Achse.  Beispiele:<br>
        <ul>
          set ytics ("on" 0, "off" 1)<br>
          set y2tics<br>
        </ul>
        </li>
    </ul>
    </li>
    <br>

  <li>#FileLog Eintr&auml;ge<br>
      Jede Line des Plots muss eine dazugeh&ouml;rige #FileLog
      Zeile haben. Zur Syntax lesen Sie bitte den Abschnitt &quot;column_spec paragraph&quot; 
  von der <a href="#FileLogget">Filelog get</a> Beschreibung.
      Beachten sie bitte, das bei SVG-Plots die erste Spalte der Datei unbedingt 
  im FHEM-Zeitstempelformat (YYYY-MM-DD_HH:MM:SS) formatiert sein muss
      </li>
      <br>

  <li>Plot Eintr&auml;ge<br>
      bestehen immer aus einem Plotbefehl und aus durch Kommata getrenne 
  Argumentbl&ouml;cke. Jeder Argumentblock repr&auml;sentiert eine darzustellende Linie 
  und hat seine eigenen Paramter.
      Folgende Parameter werden are anerkannt:
      <ul>
      <li>axes x1y1 / x1y2<br>
        weist das Programm an die aktuelle Zeile einer der beiden Achsen (links 
      oder rechts) zuzuweisen.&nbsp; 
        </li>
      <li>title<br>
        Beschriftung der Linie. Wenn man auf diesen Titel klickt, dann &auml;ndert 
      ein kleines Javascript-Programm den Titel auf die min/max und last-Werte 
      des Plots,
        Weiterhin erlaubt das Programm diese Linie zu kopieren oder eine bereits 
      kopierte Linie einzuf&uuml;gen (die existierende Skalierung des Plots wird 
      dabei nicht ver&auml;ndert, nur die eingef&uuml;gte Linie wird skaliert/angepasst. 
      Andere Linien des Plots werden zeitweise nicht angezeigt.</li>
      <li>with &lt;linetype&gt;<br>
        spezifiziert die Art der Linie. Folgende Linienarten k&ouml;nnen verwendet 
      werden: points,
        steps, fsteps, histeps and lines. Nicht bekannte Linienarten werden als 
      Typ &quot;lines&quot; dargestellt.
        </li>
      <li>ls &lt;linestyle&gt;<br>
        Der Linienstil stellt die erste Linie als l0 dar,&nbsp; die zweite Linie 
      als l1 und so weiter. Definiert ist dies in der svg_style.css Datei. Darin 
      sind zwei Sets definiert: l0-l8 and l0fill-l6fill. Das zweite Set muss 
      aber explizit angegeben werden. Wenn der Name des Linienstils das Wort &quot;fill&quot; 
      enth&auml;lt, dann haben Plots des Linientyps "lines" ein zus&auml;tzliches Start- und
        Endsegment f&uuml;r eine korrekte Darstellung.<br>
        Bitte lesen sie die SVG Spezifikationen, um Details &uuml;ber diese css-Datei 
      zu erfahren.
        Notiz: Wenn Sie dieses Attribut einsetzen m&ouml;chten, m&uuml;ssen Sie es f&uuml;r 
      alle Linien (Attributblocks) im Plotbefehl spezifizieren.
        </li>
      <li>lw &lt;linewidth&gt;<br>
        Setzt die Linienbreite der Linie. Dieses Attribut ist veraltet. Das 
      entprechende Feature der css-Datei/(Attribut ls) muss verwendet werden.

        </li>
      </ul>
</li></ul>




</div></body></html>
